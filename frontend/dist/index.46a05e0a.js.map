{"mappings":"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ACpC,AAAC,GAAS,EAAK,OAAO,KAAO,EAAU,OAAO,KAK9C,CAAA,EAAM,KAAK,CAAC,OAAO,CAAG,QADxB,CAQJ,EACF,CACF,CEljBe,MAAA,UAAc,EAC3B,YAAY,CAAM,CAAE,CAClB,KAAK,CAAC,GACN,IAAI,CAAC,QAAQ,CAAC,aACd,IAAI,CAAC,aAAa,CAAG,EAAE,AACzB,CAEA,MAAM,SAAU,CAGd,OAFA,IAAI,CAAC,aAAa,CAAG,MAAM,IAAI,CAAC,cAAc,GAEvC;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAmBC,YAAA,EAAE,IAAI,CAAC,aAAa,CACjB,GAAG,CACF,AAAC,GAAa;A;A;AAGsB,oDAAA,EAAE,EAAS,MAAM,CAAC;A;AAE7B,yCAAA,EAAE,EAAS,IAAI,CAAC;AAChB,yCAAA,EAAE,EAAS,IAAI,CAAC;AAChB,yCAAA,EAAE,EAAS,KAAK,CAAC;AACjB,yCAAA,EAAE,EAAS,KAAK,CAAC;A;A;AAGN,oDAAA,EAAE,EAAS,GAAG,CAAC;A;A;A;AAIrD,cAAA,CAAC,EAEA,IAAI,CAAC,IAAI;A;A;A;A;A;AAMpB,IAAA,CAAC,AACH,CAMA,MAAM,gBAAiB,CACrB,GAAI,CAGF,OAFkB,MAAM,AAAA,EAjEF,iBAoExB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,4BAA6B,EAC7C,CACF,CACF,CEmFA,IAAA,EA9JmC,CAAC,EAAW,IAAe;A;A;A;A;A;A;A;A;AAS1C,oBAAA,EAAE,EACC,GAAG,CACF,AAAC,GAAa;A;AAEU,gDAAA,EAAE,EAAS,KAAK,CAAC,qCAAqC,EAAE,EAAS,IAAI,CAAC;A;AAE9F,wBAAA,CAAC,EAEF,IAAI,CAAC,IAAI;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A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CAAC,EAAa,GAAG,GAGlD,MAAO;A;A;A;AAI4D,uEAAA,EACrD,EAAa,IAAI,CAClB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAkBL,YAAA,EAAE,EACC,GAAG,CACF,AAAC,GAAa;A;A;AAGsB,oDAAA,EAAE,EAAS,MAAM,CAAC;A;AAE7B,yCAAA,EAAE,EAAS,IAAI,CAAC;AAChB,yCAAA,EAAE,EAAS,IAAI,CAAC;AAChB,yCAAA,EAAE,EAAS,KAAK,CAAC;AACjB,yCAAA,EAAE,EAAS,KAAK,CAAC;A;A;AAGN,oDAAA,EAAE,EAAS,GAAG,CAAC;A;A;A;AAIrD,cAAA,CAAC,EAEA,IAAI,CAAC,IAAI;A;A;A;A;A;A;A;AAQpB,IAAA,CAAC,AACH,CAMA,MAAM,gBAAiB,CACrB,GAAI,CAGF,OAFkB,MAAM,AAAA,EArFF,iBAwFxB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,4BAA6B,EAC7C,CACF,CAMA,MAAM,aAAc,CAClB,GAAI,CAGF,OAFe,MAAM,AAAA,EAlGF,cAqGrB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,yBAA0B,EAC1C,CACF,CAEA,sBAAuB,CACrB,OAAO,OAAO,CAAC,IAAI,EACrB,CACF,CC3Ge,MAAA,UAAc,EAC3B,YAAY,CAAM,CAAE,CAClB,KAAK,CAAC,GACN,IAAI,CAAC,QAAQ,CAAC,eAEhB,CAEA,MAAM,SAAU,CAEd,OADA,IAAI,CAAC,cAAc,CAAG,MAAM,AAAA,EAVH,mBAWlB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A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AAC,IAAI,CAC7C,AAAC,GAAc,EAAU,GAAG,GAAK,GAEnC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAC5B,GAEO;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AA8BkB,6BAAA,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAsBjC,qBAAA,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAgB1B,2BAAA,EAAE,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAsBhC,6BAAA,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAgD7B,6BAAA,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAiD3C,kBAAA,EACE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAG,EAC1B,IAAI,CAAC,eAAe,CACjB,GAAG,CACF,AAAC,GACC;A;A;AAGD,6BAAA,EAAE,EAAU,IAAI,CAAC;A;A;A;A;AAKxB,sBAAA,CAAC,EAEI,IAAI,CAAC,IACR;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAkBF,sBAAA,EACE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAG,EACzB,IAAI,CAAC,cAAc,CAChB,GAAG,CACF,AAAC,GACC,CAAC,eAAe,EAAE,EAAU,GAAG,CAAC,EAAE,EAAE,EAAU,IAAI,CAAC,SAAS,CAAC,EAEhE,IAAI,CAAC,IACR;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AA8CxB,IAAA,CAAC,AACH,CAEA,aAAc,CACZ,IAAI,CAAC,kBAAkB,GACvB,IAAI,CAAC,0BAA0B,GAE/B,GAAM,CAAA,UAAE,CAAS,CAAE,CAAG,IAAI,CAAC,WAAW,CAElC,GACF,EAAU,gBAAgB,CAAC,SAAU,IAAI,CAAC,kBAAkB,EAG9D,IAAI,CAAC,6BAA6B,CAAC,IAAI,CAAC,YAAY,EAEpD,IAAI,CAAC,cAAc,EACrB,CAEA,oBAAqB,CACnB,IAAI,CAAC,WAAW,CAAG,CACjB,UAAW,SAAS,aAAa,CAAC,eAClC,wBAAyB,SAAS,gBAAgB,CAAC,qBACnD,mBAAoB,SAAS,gBAAgB,CAAC,qBAC9C,gBAAiB,SAAS,gBAAgB,CAAC,sBAC3C,iBAAkB,SAAS,cAAc,CAAC,qBAC1C,oBAAqB,SAAS,cAAc,CAAC,kBAC7C,oBAAqB,SAAS,cAAc,CAAC,kBAC7C,aAAc,SAAS,aAAa,CAAC,eACrC,UAAW,SAAS,aAAa,CAAC,cACpC,CACF,CAEA,8BAA8B,CAAK,CAAE,CACnC,GAAM,CAAA,oBAAE,CAAmB,CAAA,oBAAE,CAAmB,CAAE,CAAG,IAAI,CAAC,WAAW,AACrE,CAAA,EAAoB,KAAK,CAAG,EAAM,QAAQ,CAC1C,EAAoB,KAAK,CAAG,EAAM,QAAQ,AAC5C,CAMA,mBAAqB,MAAO,IAC1B,EAAM,cAAc,GAGpB,IAAI,CAAC,SAAS,CAAG,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM,EAC3D,IAAM,EAAK,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAIxB,EAAY,OAAO,WAAW,CAAC,AAFpB,IAAI,SAAS,EAAM,MAAM,EAEI,OAAO,IACrD,QAAQ,GAAG,CAAC,GAEZ,IAAM,EAAc,IAAI,CAAC,uBAAuB,CAAC,GAEjD,GAAI,EAAa,CACf,QAAQ,GAAG,CAAC,qBAAsB,GAElC,GAAI,CACgB,MAAM,IAAI,CAAC,kBAAkB,CAC7C,EACA,EAAU,IAAI,CACd,EAAU,WAAW,CACrB,EAAU,aAAa,CACvB,EAAU,QAAQ,CAClB,EAAU,QAAQ,CAClB,EAAU,WAAW,CACrB,EAAU,QAAQ,CAClB,EAAU,WAAW,IAIrB,MAAM,8BACN,IAAI,CAAC,UAAU,GAEnB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,wBAAyB,GACvC,MAAM,yCACR,CACF,CACF,CAAE,AAKF,CAAA,wBAAwB,CAAI,CAAE,CAC5B,IAAI,EAAU,CAAA,EAsBd,OApBA,EAAU,IAAI,CAAC,aAAa,CAAC,EAAK,IAAI,CAAE,uBAAyB,EACjE,EACE,IAAI,CAAC,aAAa,CAAC,EAAK,WAAW,CAAE,8BACrC,EACF,EACE,IAAI,CAAC,aAAa,CAAC,EAAK,aAAa,CAAE,yBAA2B,EACpE,EACE,IAAI,CAAC,aAAa,CAAC,EAAK,QAAQ,CAAE,2BAA6B,EACjE,EACE,IAAI,CAAC,aAAa,CAAC,AAAkB,MAAlB,EAAK,QAAQ,CAAU,2BAC1C,EACF,EACE,IAAI,CAAC,aAAa,CAAC,EAAK,WAAW,CAAE,2BAA6B,EACpE,EACE,IAAI,CAAC,aAAa,CAAC,AAAkB,MAAlB,EAAK,QAAQ,CAAU,2BAC1C,EAKK,CAAA,CAJP,CAAA,EACE,IAAI,CAAC,aAAa,CAAC,AAAqB,MAArB,EAAK,WAAW,CAAU,4BAC7C,CAFF,CAKF,CAOA,cAAc,CAAK,CAAE,CAAS,CAAE,CAC9B,IAAM,EAAiB,SAAS,cAAc,CAAC,UAE/C,AAAK,GAIH,EAAe,SAAS,CAAC,MAAM,CAAC,WACzB,CAAA,IAJP,EAAe,SAAS,CAAC,GAAG,CAAC,WACtB,CAAA,EAKX,CAKA,MAAM,mBACJ,CAAG,CACH,CAAI,CACJ,CAAW,CACX,CAAa,CACb,CAAQ,CACR,CAAQ,CACR,CAAW,CACX,CAAQ,CACR,CAAW,CACX,CAYA,GAAI,CACe,MAAM,AAAA,EAAW,EAAkB,EAZlC,CAClB,KAAM,EACN,YAAa,EACb,cAAe,EACf,SAAU,EACV,SAAU,EACV,YAAa,EACb,SAAU,EACV,YAAa,CACf,EAIA,CAAE,MAAO,EAAO,CAEd,MADA,QAAQ,KAAK,CAAC,wBAAyB,GACjC,CACR,CAEA,MAAO,CAAA,CACT,CAKA,YAAa,CAEX,SAAS,gBAAgB,CAAC,iBAAiB,OAAO,CAAC,AAAC,IAClD,EAAM,KAAK,CAAG,EAChB,GAGA,SAAS,gBAAgB,CAAC,gBAAgB,OAAO,CAAC,AAAC,IACjD,EAAO,aAAa,CAAG,GACzB,EACF,CAKA,wBAAyB,CACvB,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,OAAO,CAAC,AAAC,IAChD,EAAQ,SAAS,CAAC,MAAM,CAAC,UAC3B,EACF,CAEA,4BAA6B,CAC3B,GAAM,CAAA,mBAAE,CAAkB,CAAA,iBAAE,CAAgB,CAAA,gBAAE,CAAe,CAAE,CAC7D,IAAI,CAAC,WAAW,CAClB,EAAmB,OAAO,CAAC,AAAC,IAC1B,EAAM,gBAAgB,CAAC,QAAS,AAAC,IAC/B,IAAM,EAAU,EAAM,EAAE,CAClB,EAAiB,SAAS,cAAc,CAAC,CAAC,QAAQ,EAAE,EAAA,CAAS,CAE/D,CAAA,EAAM,KAAK,EACb,EAAe,SAAS,CAAC,MAAM,CAAC,UAEpC,EACF,GAEA,EAAiB,gBAAgB,CAAC,QAAS,KACzC,IAAM,EAAiB,SAAS,cAAc,CAC5C,4BAEE,CAAA,EAAiB,KAAK,EACxB,EAAe,SAAS,CAAC,MAAM,CAAC,UAEpC,GAEA,EAAgB,OAAO,CAAC,AAAC,IACvB,EAAK,gBAAgB,CAAC,SAAU,KAC9B,IAAM,EAAS,EAAK,EAAE,CAChB,EAAiB,SAAS,cAAc,CAAC,CAAC,QAAQ,EAAE,EAAA,CAAQ,CAE7C,CAAA,MAAjB,EAAO,KAAK,EACd,EAAe,SAAS,CAAC,MAAM,CAAC,UAEpC,EACF,EACF,CACA,gBAAiB,CACf,GAAM,CAAA,aAAE,CAAY,CAAA,UAAE,CAAS,CAAE,CAAG,IAAI,CAAC,WAAW,CAEpD,GAAI,CAAC,GAAgB,CAAC,EAAW,CAC/B,QAAQ,KAAK,CAAC,2BACd,MACF,CAEA,EAAa,gBAAgB,CAAC,QAAS,MAAO,IAC5C,EAAM,cAAc,GACpB,IAAM,EAAO,EAAU,KAAK,CAAC,EAAE,CAE/B,GAAI,CAAC,EAAM,CACT,MAAM,kCACN,QAAQ,KAAK,CAAC,oBACd,MACF,CAEA,QAAQ,GAAG,CAAC,iBAAkB,GAE9B,IAAM,EAAW,IAAI,SACrB,EAAS,MAAM,CAAC,aAAc,GAE9B,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,cAAe,CAC1C,OAAQ,OACR,KAAM,CACR,GAIA,GAFA,QAAQ,GAAG,CAAC,YAAa,GAErB,EAAS,EAAE,CAAE,CACf,IAAM,EAAS,MAAM,EAAS,IAAI,GAClC,MAAM,CAAC,uCAAuC,EAAE,EAAO,QAAQ,CAAA,CAAE,EACjE,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,EAAO,QAAQ,CAAA,CAAE,CACrD,KAAO,CACL,IAAM,EAAQ,MAAM,EAAS,IAAI,GACjC,MAAM,CAAC,eAAe,EAAE,EAAM,OAAO,CAAA,CAAE,EACvC,QAAQ,KAAK,CAAC,kBAAmB,EACnC,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,4BAA6B,GAC3C,MAAM,8CACR,CACF,EACF,CACF,CnBljBA,MAAM,EAAc,AAAC,GACnB,AAAI,OAAO,IAAM,EAAK,OAAO,CAAC,MAAO,OAAO,OAAO,CAAC,QAAS,QAAU,KAEnE,EAAY,AAAC,IACjB,IAAM,EAAS,EAAM,MAAM,CAAC,KAAK,CAAC,GAKlC,OAAO,OAAO,WAAW,CACvB,AALW,MAAM,IAAI,CAAC,EAAM,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,CAC/D,AAAC,GAAW,CAAM,CAAC,EAAE,EAIhB,GAAG,CAAC,CAAC,EAAK,IACN,CAAC,EAAK,CAAM,CAAC,EAAE,CAAC,EAG7B,EAEM,EAAa,AAAC,IAClB,QAAQ,SAAS,CAAC,KAAM,KAAM,GAC9B,GACF,EAGM,EAAS,UACb,IAAM,EAAS,CACb,CACE,KAAM,IACN,KAAM,CACR,EACA,CACE,KAAM,aACN,KAAM,CACR,EACA,CACE,KAAM,UACN,KAAM,CACR,EACA,CACE,KAAM,iBACN,KAAM,CACR,EACA,CACE,KAAM,gBACN,KAAM,CACR,EACA,CACE,KAAM,cACN,KAAM,CACR,EACA,CACE,KAAM,mBACN,KAAM,CACR,EACA,CACE,KAAM,YACN,KAAM,CACR,EACA,CACE,KAAM,aACN,KAAM,CACR,EACA,CACE,KAAM,oBACN,KAAM,CACR,EACA,CACE,KAAM,iBACN,KAAM,CACR,EACD,CAUG,EAAQ,AAPa,EAAO,GAAG,CAAC,AAAC,GAC5B,CAAA,CACL,MAAO,EACP,OAAQ,SAAS,QAAQ,CAAC,KAAK,CAAC,EAAY,EAAM,IAAI,EACxD,CAAA,GAG2B,IAAI,CAC/B,AAAC,GAAmB,AAA0B,OAA1B,EAAe,MAAM,EAItC,GACH,CAAA,EAAQ,CACN,MAAO,CAAM,CAAC,EAAE,CAChB,OAAQ,CAAC,SAAS,QAAQ,CAAC,AAC7B,CAAA,EAGF,IAAM,EAAO,IAAI,EAAM,KAAK,CAAC,IAAI,CAAC,EAAU,IACxC,EAAe,SAAS,aAAa,CAAC,QAEtC,GACF,CAAA,EAAa,SAAS,CAAG,MAAM,EAAK,OAAO,EAD7C,EAKgC,YAA5B,OAAO,EAAK,WAAW,EACzB,EAAK,WAAW,EAEpB,EAEA,OAAO,gBAAgB,CAAC,WAAY,GAMpC,SAAS,gBAAgB,CAAC,mBAAoB,KAC5C,SAAS,IAAI,CAAC,gBAAgB,CAAC,QAAS,AAAC,IACnC,EAAM,MAAM,CAAC,OAAO,CAAC,kBACvB,EAAM,cAAc,GACpB,EAAW,EAAM,MAAM,CAAC,IAAI,EAEhC,GACA,GACF,GAKA,SAAS,gBAAgB,CAAC,aAAa,OAAO,CAAC,AAAC,IAC9C,EAAK,gBAAgB,CAAC,QAAS,WAE7B,SACG,gBAAgB,CAAC,aACjB,OAAO,CAAC,AAAC,GAAQ,EAAI,SAAS,CAAC,MAAM,CAAC,WAGzC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SACrB,EACF","sources":["<anon>","frontend/src/index.js","frontend/src/components/Home.js","frontend/src/components/AbstractView.js","frontend/src/components/Dashboard.js","frontend/src/components/Events.js","frontend/src/utils/api-utility.js","frontend/src/templates/EventCard.js","frontend/src/components/Schedule.js","frontend/src/templates/EventScheduleCard.js","frontend/src/components/Attendees.js","frontend/src/components/Communication.js","frontend/src/templates/MailingForm.js","frontend/src/components/EventDetails.js","frontend/src/templates/EventDetailsCard.js","frontend/src/templates/EventPhotoGallery.js","frontend/src/components/AttendeeDetails.js","frontend/src/templates/AttendeeCard.js","frontend/src/components/EventAttendees.js","frontend/src/components/CreateEvent.js","frontend/src/components/EditEvent.js"],"sourcesContent":["class $c4b00e42b75f1dbd$export$2e2bcd8739ae039 {\n    constructor(params){\n        this.params = params;\n    }\n    setTitle(title) {\n        document.title = title;\n    }\n    async getHtml() {\n        return \"\";\n    }\n} /* export default class {\r\n  constructor(params) {\r\n    this.params = params;\r\n  }\r\n\r\n  // Set the document title\r\n  setTitle(title) {\r\n    document.title = title;\r\n  }\r\n\r\n  // Method to pre-render HTML, child classes can override this method\r\n  async preRender() {\r\n    return \"\"; // Default implementation can be empty or some base HTML structure\r\n  }\r\n\r\n  // Main method to get HTML content\r\n  async getHtml() {\r\n    // Perform pre-render logic before returning HTML\r\n    const preRenderedHtml = this.preRender();\r\n    return preRenderedHtml;\r\n  }\r\n}\r\n */ \n\n\nclass $383917d63580280f$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Home\");\n    }\n    async getHtml() {\n        return `\n    <div>\n        <h2>Home</h2>\n    </div>\n    <section class=\"vh-75 gradient-custom\">\n  <div class=\"container py-0 h-100\">\n    <div class=\"row d-flex justify-content-center pt-3 h-100\">\n      <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\n        <div class=\"card text-white login-card\" style=\"border-radius: 1rem;\">\n          <div class=\"card-body py-3 px-5 text-center\">\n\n            <div class=\"mb-md-5 mt-md-4 pb-2\">\n\n              <h2 class=\"fw-bold mb-2 text-uppercase\">Login</h2>\n              <p class=\"text-dark mb-5\">Please enter your login and password!</p>\n\n              <div data-mdb-input-init class=\"form-outline form-white mb-4\">\n                <input type=\"email\" id=\"typeEmailX\" class=\"form-control form-control-lg\" placeholder=\"email\"/>\n              </div>\n\n              <div data-mdb-input-init class=\"form-outline form-white mb-4\">\n                <input placeholder=\"password\" type=\"password\" id=\"typePasswordX\" class=\"form-control form-control-lg\" />\n              </div>\n\n              <p class=\"small mb-3 pb-lg-2\"><a class=\"text-dark reset-password-link\" href=\"#!\">Forgot password?</a></p>\n\n              <button data-mdb-button-init data-mdb-ripple-init class=\"btn btn-outline-light btn-lg px-5\" type=\"submit\">Login</button>\n\n              <div class=\"d-flex justify-content-center text-center mt-4 pt-1\">\n                <a href=\"#!\" class=\"text-white\"><i class=\"fab fa-facebook-f fa-lg\"></i></a>\n                <a href=\"#!\" class=\"text-white\"><i class=\"fab fa-twitter fa-lg mx-4 px-2\"></i></a>\n                <a href=\"#!\" class=\"text-white\"><i class=\"fab fa-google fa-lg\"></i></a>\n              </div>\n\n            </div>\n\n            <div>\n              <p class=\"mb-0\">Don't have an account? <a href=\"#!\" class=\"sign-up-link text-dark fw-bold\">Sign Up</a>\n              </p>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n    `;\n    }\n}\n\n\n\nclass $79ba522ead9215b1$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Dashboard\");\n    }\n    async getHtml() {\n        return `\n    <section class=\"py-3\">\n        <div class=\"container bg-white p-3 upcoming-events\">\n            <div class=\"border-bottom border-secondary-subttle d-flex justify-content-between pb-3\">\n            <h5><i class=\"bi bi-journal-bookmark\"></i> Upcoming Events</h5>\n                <button class=\"btn btn-dark btn-all-events\">View all Events</button>\n            </div>\n            <div class=\"table-wrapper py-4\">\n                <table id=\"table-upcoming-events\" class=\"table table-striped table-sm\">\n                    <thead class=\"\">\n                        <tr>\n                            <th class=\"ps-3\">EVENT</th>\n                            <th>STATUS</th>\n                            <th>DATE</th>\n                            <th>REGISTRATIONS</th>                            \n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td class=\"ps-3\">Tech Talent Meetup</td>\n                            <td>Live</td>\n                            <td>Thursday, 24-Sep-2024</td>\n                            <td>9/25</td>\n                        </tr>\n                        <tr>\n                            <td class=\"px-3\">Tech Talent Meetup</td>\n                            <td>Live</td>\n                            <td>Thursday, 24-Sep-2024</td>\n                            <td>9/25</td>\n                        </tr>\n                        <tr>\n                            <td class=\"px-3\">Tech Talent Meetup</td>\n                            <td>Live</td>\n                            <td>Thursday, 24-Sep-2024</td>\n                            <td>9/25</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </section>\n    <section class=\"py-3\">\n        <div class=\"container bg-white p-3 upcoming-events\">\n            <div class=\"border-bottom border-secondary-subttle d-flex justify-content-between pb-3\">\n                <h5><i class=\"bi bi-bookmarks\"></i> Recent Registrations</h5>\n            </div>\n            <div class=\"table-wrapper py-4\">\n                <table id=\"recent-registrations\" class=\"table table-striped table-sm\">\n                    <thead>\n                        <tr>\n                            <th class=\"px-3\">NAME</th>\n                            <th>REGISTERED ON</th>\n                            <th>STATUS</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td class=\"px-3\">Manuel Alva</td>\n                            <td>08/09/1977</td>\n                            <td>Confirmed</td>\n                        </tr>\n                        <tr>\n                            <td class=\"px-3\">Manuel Alva</td>\n                            <td>08/09/1977</td>\n                            <td>Pending</td>\n                        </tr>\n                        <tr>\n                            <td class=\"px-3\">Manuel Alva</td>\n                            <td>08/09/1977</td>\n                            <td>Cancelled</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </section>\n    `;\n    }\n}\n\n\n\nconst $55510dd80b4e0306$var$BASE_URL = \"http://localhost:1000\";\nasync function $55510dd80b4e0306$export$7a171f172be0782e(endpoint) {\n    try {\n        const response = await fetch(`${$55510dd80b4e0306$var$BASE_URL}${endpoint}`);\n        if (!response.ok) throw new Error(\"Data not found\");\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\nconst $55510dd80b4e0306$export$15d8621db9a88346 = async (endpoint, object)=>{\n    const response = await fetch(`${$55510dd80b4e0306$var$BASE_URL}${endpoint}`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(object)\n    });\n    if (!response.ok) throw new Error(\"Failed to save data\");\n    else {\n        const data = await response.json();\n        return data;\n    }\n};\nasync function $55510dd80b4e0306$export$3bf0495508a61ee(endpoint, id, updatedData) {\n    try {\n        const response = await fetch(`${$55510dd80b4e0306$var$BASE_URL}${endpoint}/${id}`, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(updatedData)\n        });\n        if (!response.ok) throw new Error(`Failed to update data: ${response.statusText}`);\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error(\"Error updating data:\", error);\n        throw error;\n    }\n}\n\n\nconst $d98de29a0b3d3138$var$eventCard = (event, date)=>{\n    //Shorten the description to use as an intro\n    const maxLenght = 180;\n    const intro = event.description.length > maxLenght ? event.description.slice(0, maxLenght) + \"...\" : event.description;\n    return `\n<div class=\"event-card row w-75 m-auto py-3 my-3\">\n    <div class=\"col-4\">\n        <div class=\"event-image px-2\">\n            <img src=\"${event.img_url}\" alt=\"event-image\"></img>\n        </div>\n    </div>\n    <div class=\"col-8\">\n        <div class=\"event-content\">\n            <h4 class=\"pb-3 fw-bold\">${event.name}</h4>\n            <p>${intro}</p>\n            <div class=\"pt-3 d-flex justify-content-between align-items-center\">\n                <div class=\"fs-5\">\n                    <i class=\"bi bi-calendar-date\"></i>\n                    <span>${date}</span>\n                </div>\n                <div>\n                    <a href=\"\" class=\"category-box\">${event.category}</a>\n                </div>  \n                <div>\n                    <a href=\"/event-details?id=${event._id}\"  data-link class=\"btn btn-primary\" >Details <i class=\"bi bi-arrow-right-circle-fill\"></i></a>\n                </div>\n            </div>\n        </div>\n    </div>   \n</div>\n`;\n};\nvar $d98de29a0b3d3138$export$2e2bcd8739ae039 = $d98de29a0b3d3138$var$eventCard;\n\n\nconst $53cdfa4a82d12117$var$EVENTS_END_POINT = \"/api/events\";\nconst $53cdfa4a82d12117$var$SCHEDULE_END_POINT = \"/api/eventsSchedule\";\nclass $53cdfa4a82d12117$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Events\");\n        this.eventsList = [];\n        this.scheduleList = [];\n    }\n    async getHtml() {\n        this.eventsList = await this.fetchEvents();\n        this.scheduleList = await this.fetchSchedule();\n        const rows = this.eventsList.map((event)=>{\n            let matchingEvent = this.scheduleList.find((match)=>match.eventId === event._id);\n            // Check if any event has been scheduled\n            const date = matchingEvent ? new Date(matchingEvent.startDate) : null;\n            const formattedDate = date ? date.toLocaleDateString(\"en-US\", {\n                year: \"numeric\",\n                month: \"numeric\",\n                day: \"2-digit\"\n            }) : \"No date available\";\n            return (0, $d98de29a0b3d3138$export$2e2bcd8739ae039)(event, formattedDate); // Pass formattedDate to eventCard\n        });\n        return `\n    <section>\n      <div class=\"container bg-white p-3 events-list\">\n        <div class=\"border-bottom border-secondary-subttle pb-3 d-flex align-items-center gap-5\">\n          <h5><i class=\"bi bi-calendar2-event\"></i> Events</h5>\n          <a href=\"/create-event\" class=\"btn btn-primary\" data-link><i class=\"bi bi-plus-circle-fill\"></i> New Event</a>\n        </div>\n        <div class=\"cards-wrapper py-4\">\n        ${rows}\n        </div>       \n      </div>\n    </section>\n    `;\n    }\n    /**\r\n   * fetch the events from the server\r\n   * @returns events array\r\n   */ async fetchEvents() {\n        try {\n            const events = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($53cdfa4a82d12117$var$EVENTS_END_POINT);\n            //console.table(events);\n            return events;\n        } catch (error) {\n            console.error(\"Error fetching events:\", error);\n        }\n    }\n    /**\r\n   * fetch the schedule from the server\r\n   * @returns schedule array\r\n   */ async fetchSchedule() {\n        try {\n            const schedule = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($53cdfa4a82d12117$var$SCHEDULE_END_POINT);\n            //console.table(schedule);\n            return schedule;\n        } catch (error) {\n            console.error(\"Error fetching schedule:\", error);\n        }\n    }\n}\n\n\n\n\nconst $0c43d840e344d764$var$eventScheduleCard = (schedule, event)=>{\n    const date = new Date(schedule.startDate);\n    const formattedDate = date.toLocaleDateString(\"en-US\", {\n        year: \"numeric\",\n        month: \"numeric\",\n        day: \"2-digit\",\n        timeZone: \"UTC\"\n    });\n    return `     \n          <div class=\"w-100 mt-3\">\n            <div class=\"card event-schedule-card\">\n              <div class=\"card-image-container\">\n                <img src=\"${event.img_url} alt=\"product image\" class=\"img-fluid\" />\n                <a href=\"\" class=\"category-box\">${event.category}</a>\n              </div>\n              <div class=\"card-description pb-2\">\n                <div class=\"text-center pt-2 description-container\">\n                  <p><strong>${event.name}</strong></p>\n                </div>\n                <div class=\"row px-3 m-auto\">\n                  <div class=\"col-6 py-2 text-center\">\n                    <i class=\"bi bi-calendar-date\"></i>\n                    <span>${formattedDate}</span>\n                  </div>\n                  <div class=\"col-6 text-center\">\n                    <a\n                      href=\"/event-details?id=${event._id}\"\n                      data-link\n                      class=\"btn btn-primary\"\n                      >Details <i class=\"bi bi-arrow-right-circle-fill\"></i\n                    ></a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n`;\n};\nvar $0c43d840e344d764$export$2e2bcd8739ae039 = $0c43d840e344d764$var$eventScheduleCard;\n\n\nconst $86fb3414cf3865fc$var$EVENTS_END_POINT = \"/api/events\";\nconst $86fb3414cf3865fc$var$SCHEDULE_END_POINT = \"/api/eventsSchedule\";\nclass $86fb3414cf3865fc$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Schedule\");\n        this.daysOfWeek = [\n            \"Sun\",\n            \"Mon\",\n            \"Tue\",\n            \"Wed\",\n            \"Thu\",\n            \"Fri\",\n            \"Sat\"\n        ];\n        this.currentDate = new Date(Date.now());\n        this.month = this.currentDate.getMonth();\n        this.year = this.currentDate.getFullYear();\n    }\n    async getHtml() {\n        this.eventsList = await this.fetchEvents();\n        this.scheduleList = await this.fetchSchedule();\n        const formattedDate = this.currentDate.toLocaleDateString(\"en-US\", {\n            year: \"numeric\",\n            month: \"long\",\n            timeZone: \"UTC\"\n        });\n        const dayOfTheWeek = this.currentDate.toLocaleDateString(\"en-US\", {\n            weekday: \"long\"\n        });\n        const dayOfTheMonth = this.currentDate.getDate();\n        //find the ordinal suffix for the day opf the mont(\"st\", \"nd\", \"rd\", or \"th\")\n        const getOrdinalSuffix = (day)=>{\n            if (day > 3 && day < 21) return \"th\";\n            switch(day % 10){\n                case 1:\n                    return \"st\";\n                case 2:\n                    return \"nd\";\n                case 3:\n                    return \"rd\";\n                default:\n                    return \"th\";\n            }\n        };\n        //get the current month week rows array\n        this.calendarWeeks = this.createCalendar();\n        //Manage post-rendering\n        this.manageState();\n        this.rows = [];\n        //get the upcoming events\n        const rows = this.scheduleList.map((schedule)=>{\n            const today = new Date(Date.now()); //get current date\n            const eventDate = new Date(schedule.startDate);\n            const matchingEvent = this.eventsList.find((event)=>event._id === schedule.eventId && eventDate > today);\n            return matchingEvent ? (0, $0c43d840e344d764$export$2e2bcd8739ae039)(schedule, matchingEvent) : null;\n        }).join(\"\");\n        return `\n    <section class=\"py-3 calendar-section\">\n    <div class=\"border-bottom border-secondary-subttle\">\n          <h5><i class=\"bi bi-person-check\"></i> Schedule/Agenda</h5>\n        </div>\n      <div class=\"row calendar-row\">\n      <div class=\"col-7 bg-white p-3\">        \n        <div class=\"calendar-container py-5\">\n          <div class=\"calendar-wrapper\">\n            <div class=\"container\">\n              <div class=\"calendar\">\n                <div class=\"front\">\n                  <div class=\"current-date text-center\">                    \n                    <h1 class=\"fw-bold\">${formattedDate}</h1>\n                  </div>\n\n                  <div class=\"current-month\">\n                    <ul class=\"weeks px-3\">\n                      ${this.daysOfWeek.map((day)=>`\n                      <li>${day}</li>\n                      `).join(\"\")}\n                    </ul>\n\n                    <div id=\"calendar\">\n                      ${this.calendarWeeks.map((week)=>`\n                      <ul class=\"weeks d-flex px-3\">\n                        ${week.map((day)=>`\n                        <li class=\"day\">\n                          <button class=\"btn-weekday\" data-date=\"${this.year}-${this.month + 1}-${day}\">${day || \"\"}</button>\n                            <span data-date=\"${this.year}-${this.month + 1}-${day}\" class=\"event\" style=\"display: none;\"></span>\n                          \n                        </li>\n                        `).join(\"\")}\n                      </ul>\n                      `).join(\"\")}\n                    </div>\n                  </div>\n                </div>\n                <div class=\"back\">\n                  <select name=\"events\" id=\"events\">\n                      <option value\"0\" selected>\"What's the event?\"</option>\n                      ${this.eventsList.map((event)=>`\n                        <option value=\"${event._id}\">${event.name}</option>\n                        `)}\n                  </select>\n                  <div class=\"info py-4\">\n                    <div class=\"date row w-100 m-auto\">                     \n                      <div class=\"col-4 p-0 d-flex gap-2\">\n                        <p>Date:</p>\n                        <span class=\"info-date\"></span>\n                      </div>\n\n                      <div class=\"col-8\">\n                        <div class=\"form-group d-flex gap-2\">\n                          <label for=\"time\">Time: </label>\n                          <div class=\"input-group date\" id=\"timePicker\">\n                            <input type=\"text\" class=\"form-control timePicker\">\n                            <span class=\"input-group-addon border px-2\"><i class=\"bi bi-clock\"></i></span>\n                          </div>\n                        </div>\n                      </div>\n                      \n                    </div>\n                    <div class=\"address\">\n                      <p>Address: <span class=\"info-address\"></span></p>\n                    </div>\n                    <div class=\"observations\">\n                      <p>\n                        Observations: <span>Please arrive 10-15 minutes earlier</span>\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"actions\">\n                    <button class=\"save\">\n                      Save <i class=\"bi bi-check-circle-fill\"></i>\n                    </button>\n                    <button class=\"dismiss\">\n                      Dismiss <i class=\"bi bi-x-circle-fill\"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"feedback-container py-4 container border border-danger text-center\" style=\"display: none\">\n        <span class=\"feedback\"></span>\n        </div>\n      </div>\n      <div class=\"col-5 py-3\">\n        <div>\n          <div class=\"pt-5 pb-2 border-bottom d-flex justify-content-between align-items-center\">\n            <p class=\"m-0\">Events for today</p>\n            <h3 class=\"fw-bold m-0\">\n            ${dayOfTheWeek} ${dayOfTheMonth}${getOrdinalSuffix(dayOfTheMonth)}\n            </h3>\n          </div>\n          <div class=\"no-event py-3 ps-3 mt-3\">\n            <p>No events in schedule for today</p>\n          </div>\n        </div>\n        <div class=\"py-3\">\n          <div class=\"py-3 border-bottom\">\n             <h2 class=\"fw-bold\">Upcoming Events</h2>\n          </div>\n          <div class=\"scroll-wrapper\">\n            <div class=\"py-2 event-schedule-container\">\n            ${rows}\n            </div>\n          </div>\n        </div>            \n      </div>      \n      </div>\n    </section>  \n   `;\n    }\n    /**\r\n   * function to handle the post-rendering logic\r\n   */ manageState() {\n        //initialize calendar components adn logic on flip\n        this.initializeCalendar();\n        //Add event listener to teh select after flipping the calendar\n        const eventSelect = document.getElementById(\"events\");\n        if (eventSelect) eventSelect.addEventListener(\"change\", ()=>this.populateEventDetails());\n        //get the itimepicker\n        this.createTimePicker();\n        this.markSchedule();\n    }\n    /**\r\n   * Initialize the calendar component to accesss the form\r\n   * to add events to the schedule\r\n   */ initializeCalendar() {\n        //Calendar effects based on https://codepen.io/gabrielcolombo\n        const app = {\n            settings: {\n                container: document.querySelector(\".calendar\"),\n                calendar: document.querySelector(\".front\"),\n                days: document.querySelectorAll(\".weeks button\"),\n                event: document.querySelector(\".event\"),\n                form: document.querySelector(\".back\"),\n                select: document.querySelector(\".back select\"),\n                dismiss: document.querySelector(\".dismiss\"),\n                save: document.querySelector(\".save\"),\n                address: document.querySelector(\".info-address\"),\n                date: document.querySelector(\".info-date\"),\n                time: document.querySelector(\".timePicker\"),\n                observations: document.querySelector(\".observations span\")\n            },\n            /**\r\n       * Initialize app (set up event listeners).\r\n       */ init () {\n                this.bindUIActions();\n            },\n            /**\r\n       * Flip between the front and back of the calendar\r\n       * @param {*} currentSide\r\n       * @param {*} desiredSide\r\n       */ swap (currentSide, desiredSide) {\n                this.settings.container.classList.toggle(\"flip\");\n                // Reset select input value\n                if (desiredSide === this.settings.calendar) {\n                    this.settings.select.selectedIndex = 0; // Set events default value\n                    this.settings.address.textContent = \"\";\n                }\n                currentSide.style.display = \"none\"; // Hide the current side\n                desiredSide.style.display = \"block\"; // Show the desired side\n            },\n            /**\r\n       * Add event listeners to interactive elements\r\n       */ bindUIActions () {\n                this.settings.days.forEach((day)=>{\n                    day.addEventListener(\"click\", (event)=>{\n                        const selectedDate = event.currentTarget.getAttribute(\"data-date\");\n                        this.swap(this.settings.calendar, this.settings.form);\n                        const dateElement = document.querySelector(\".info-date\");\n                        if (dateElement) dateElement.textContent = selectedDate;\n                        this.settings.select.focus();\n                    });\n                });\n                if (this.settings.dismiss) this.settings.dismiss.addEventListener(\"click\", ()=>{\n                    const feedbackElement = document.querySelector(\".feedback\");\n                    const feedbackContainer = document.querySelector(\".feedback-container\");\n                    feedbackElement.textContent = \"\";\n                    feedbackContainer.style.display = \"none\";\n                    this.settings.time.value = \"\";\n                    this.swap(this.settings.form, this.settings.calendar);\n                });\n                //create a schedule object\n                if (this.settings.save) this.settings.save.addEventListener(\"click\", (event)=>{\n                    event.preventDefault();\n                    if (!this.validateFields()) return;\n                    else this.scheduleEvent();\n                });\n            },\n            /**\r\n       * Create schedule object\r\n       */ scheduleEvent () {\n                let newSchedule = \"\";\n                const eventId = this.settings.select.value;\n                const eventDate = this.settings.date.textContent;\n                const eventTime = this.settings.time.value;\n                const eventObservations = this.settings.observations.textContent;\n                newSchedule = {\n                    eventId: eventId,\n                    startDate: eventDate,\n                    startTime: eventTime,\n                    observations: eventObservations\n                };\n                this.saveScheduleData($86fb3414cf3865fc$var$SCHEDULE_END_POINT, newSchedule);\n                alert(\"Event added to the schedule\");\n                this.swap(this.settings.form, this.settings.calendar);\n            },\n            /**\r\n       * Save the new scheduled event\r\n       * @param {*} newSchedule\r\n       * @param {*} endpoint\r\n       */ async saveScheduleData (endpoint, newSchedule) {\n                try {\n                    await (0, $55510dd80b4e0306$export$15d8621db9a88346)(endpoint, newSchedule);\n                } catch (error) {\n                    console.error(\"Error saving the schedule:\", error);\n                }\n            },\n            //TODO: revise validation, is notstoping the flow if it has errors\n            validateFields () {\n                const feedbackElement = document.querySelector(\".feedback\");\n                const feedbackContainer = document.querySelector(\".feedback-container\");\n                const currentDate = new Date();\n                currentDate.setHours(0, 0, 0, 0); // Set to midnight for comparison\n                const selectedDate = new Date(this.settings.date?.textContent);\n                selectedDate.setHours(0, 0, 0, 0); // Set selected date to midnight as well\n                if (selectedDate < currentDate) {\n                    console.log(\"Invalid date: Date cannot be before today.\");\n                    feedbackContainer.style.display = \"block\";\n                    feedbackElement.textContent = \"Invalid date: Date cannot be before today.\";\n                    return false;\n                }\n                if (this.settings.select?.selectedIndex === 0) {\n                    console.log(\"Please select an event from the list\");\n                    feedbackContainer.style.display = \"block\";\n                    feedbackElement.textContent = \"Please select an event from the list.\";\n                    return false;\n                }\n                if (!this.settings.address?.textContent) {\n                    console.log(\"Address cannot be null, please select an event\");\n                    feedbackContainer.style.display = \"block\";\n                    feedbackElement.textContent = \"Address cannot be null, please select an event.\";\n                    return false;\n                }\n                if (!this.settings.time?.value) {\n                    console.log(\"Please select a time for the event\");\n                    feedbackContainer.style.display = \"block\";\n                    feedbackElement.textContent = \"Please select a time for the event.\";\n                    return false;\n                } else return true;\n            }\n        };\n        /**\r\n     * Initialize the app object\r\n     */ app.init();\n    }\n    /**\r\n   * fetch the events from the server\r\n   * @returns events array\r\n   */ async fetchEvents() {\n        try {\n            const events = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($86fb3414cf3865fc$var$EVENTS_END_POINT);\n            //console.table(events);\n            return events;\n        } catch (error) {\n            console.error(\"Error fetching events:\", error);\n        }\n    }\n    /**\r\n   * fetch the schedule from the server\r\n   * @returns schedule array\r\n   */ async fetchSchedule() {\n        try {\n            const schedule = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($86fb3414cf3865fc$var$SCHEDULE_END_POINT);\n            //console.table(schedule);\n            return schedule;\n        } catch (error) {\n            console.error(\"Error fetching schedule:\", error);\n        }\n    }\n    /**\r\n   * Create a multidimensional array representing on each row a week of the month\r\n   * @returns multi-dimensional Array containing the values (days)\r\n   * from current monthof the year\r\n   */ createCalendar() {\n        const today = new Date();\n        const currentYear = today.getFullYear();\n        const currentMonth = today.getMonth();\n        // Get the total number of days in the current month\n        const totalDaysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\n        // Array to contain the week rows\n        const calendarArray = [];\n        // Find the first day of the month and its corresponding weekday\n        const firstDayOfMonth = new Date(currentYear, currentMonth, 1);\n        const startDay = firstDayOfMonth.getDay(); // 0 (Sun) to 6 (Sat)\n        //array to contain days for the current week\n        let weekArray = new Array(7).fill(null); // Initialize with null for 7 days\n        for(let day = 1; day <= totalDaysInMonth; day++){\n            const currentDate = new Date(currentYear, currentMonth, day);\n            const currentDayOfWeek = currentDate.getDay();\n            // Place the day in the correct position in the week\n            weekArray[currentDayOfWeek] = day;\n            // If it's the last day of the week (Saturday) or the last day of the month\n            if (currentDayOfWeek === 6 || day === totalDaysInMonth) {\n                calendarArray.push(weekArray);\n                weekArray = new Array(7).fill(null);\n            }\n        }\n        return calendarArray;\n    }\n    /**\r\n   * populate the event details in the correspopnding elements of\r\n   * the form\r\n   */ populateEventDetails() {\n        const selectElement = document.getElementById(\"events\");\n        const selectedValue = selectElement.value;\n        // Get the details of the selected event\n        const selectedEvent = this.eventsList.find((event)=>event._id === selectedValue);\n        // Update the info section if an event is selected\n        if (selectedEvent) {\n            const addressElement = document.querySelector(\".info-address\");\n            let eventLocation = selectedEvent.location;\n            if (addressElement) {\n                addressElement.textContent = eventLocation;\n                console.log(\"address?\", addressElement.textContent);\n            }\n        }\n    }\n    /**\r\n   * Create a TimePicker using an instance of flatpickr from\r\n   * https://flatpickr.js.org/\r\n   */ createTimePicker() {\n        const timeSelector = document.querySelector(\".timePicker\");\n        const clockIcon = document.querySelector(\"#timePicker .input-group-addon\");\n        if (timeSelector) flatpickr(timeSelector, {\n            enableTime: true,\n            noCalendar: true,\n            dateFormat: \"h:i:K\"\n        });\n        // show the timepicker when clicking the clock icon\n        if (clockIcon) clockIcon.addEventListener(\"click\", ()=>{\n            timeSelector.focus();\n        });\n    }\n    renderUpcomingEvents() {\n        scheduleList.forEach((schedule)=>{\n            const scheduleList1 = this.eventsList.find((event)=>event._id === schedule._id);\n            const rows = scheduleList1.map((item)=>(0, $0c43d840e344d764$export$2e2bcd8739ae039)(item)).join(\"\");\n            return rows;\n        });\n    }\n    /**\r\n   * Mark teh dates that have events on them already for reference\r\n   */ markSchedule() {\n        const eventElements = document.querySelectorAll(\".event\");\n        let datesToCompare = [];\n        this.scheduleList.forEach((schedule)=>{\n            const date = new Date(schedule.startDate);\n            if (!isNaN(date.getTime())) datesToCompare.push(date);\n        });\n        eventElements.forEach((event)=>{\n            const eventDate = new Date(event.getAttribute(\"data-date\")); // Get date from event element\n            if (!isNaN(eventDate.getTime())) {\n                const dateToMark = datesToCompare.some((date)=>date.getTime() === eventDate.getTime());\n                //Mark the date if any matches\n                if (dateToMark) event.style.display = \"inline\";\n            } else console.warn(`Invalid date for event: ${event.getAttribute(\"data-date\")}`);\n        });\n    }\n}\n\n\n\n\nconst $6113fb0a69bd9255$var$ATTENDEES_END_POINT = \"/api/attendees\";\nclass $6113fb0a69bd9255$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Attendees\");\n        this.attendeesList = [];\n    }\n    async getHtml() {\n        this.attendeesList = await this.fetchAttendees();\n        return `\n     <section class=\"py-3\">\n      <div class=\"container bg-white p-3\">\n        <div class=\"border-bottom border-secondary-subttle\">\n          <h5><i class=\"bi bi-person-check\"></i> Attendees</h5>\n        </div>\n        <div class=\"table-wrapper pb-4 px-4\">\n          <table id=\"attendees\" class=\"table table-striped table-sm\">\n            <thead>\n              <tr>\n                <th></th>\n                <th>NAME</th>\n                <th>CITY</th>\n                <th>EMAIL</th>\n                <th>PHONE</th>\n                <th>ACTIONS</th>\n              </tr>\n            </thead>\n            <tbody>\n            ${this.attendeesList.map((attendee)=>`\n              <tr>\n                <td>\n                  <img class=\"attendee-avatar\" src=\"${attendee.avatar}\" alt=\"attendee-photo\"/>\n                </td>\n                <td class=\"align-middle\">${attendee.name}</td>\n                <td class=\"align-middle\">${attendee.city}</td>\n                <td class=\"align-middle\">${attendee.email}</td>\n                <td class=\"align-middle\">${attendee.phone}</td>\n                <td class=\"px-0 align-middle\">\n                    <div>\n                      <a href=\"/attendee-details?id=${attendee._id}\"  data-link class=\"btn btn-primary\" >Details <i class=\"bi bi-arrow-right\"></i></a>\n                    </div>\n                </td>\n              </tr> \n              `).join(\"\")}                \n            </tbody>\n          </table>\n        </div>\n      </div>\n    </section> \n    `;\n    }\n    /**\r\n   * fetch the attendees from the server\r\n   * @returns attendees array\r\n   */ async fetchAttendees() {\n        try {\n            const attendees = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($6113fb0a69bd9255$var$ATTENDEES_END_POINT);\n            //console.table(attendees);\n            return attendees;\n        } catch (error) {\n            console.error(\"Error fetching attendees:\", error);\n        }\n    }\n}\n\n\n\nconst $630023b50c919aed$var$communicationsEmailingForm = (attendees, organizers)=>`\n  <div class=\"row w-100 m-auto\">\n        <div class=\"col-md-3 py-4 contacts-pannel\">\n            <div class=\"contacts-pannel-header py-3\">\n                <h5 class=\"text-center fw-bold\">Attendees</h5>\n            </div>\n            <div class=\"panel panel-default bg-white px-3 py-4\">\n\t\t\t<div class=\"panel-body contacts\"> \n\t\t\t\t<ul>\n                    ${attendees.map((attendee)=>`\n                        <li>\n                            <button data-email=\"${attendee.email}\" class=\"btn btn-contact text-start\">${attendee.name}</button>\n                        </li>                       \n                        `).join(\"\")}\t\t\t\t\t\n\t\t\t\t</ul>  \n\t\t\t</div>\t\t\n\t\t</div>\t\t\t\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"container w-100 py-4\">\n                <div class=\"border-bottom border-secondary-subttle\">\n                    <h5 class=\"text-center\">Create New Message</h5>\n                </div>\n                <form class=\"message-form\">\n                    <div class=\"form-row mb-3\">\n                        <label for=\"to\" class=\"col-2 col-sm-1 col-form-label fw-bold\">To:</label>\n                        <div class=\"col-10 col-sm-11\">\n                            <input type=\"email\" class=\"form-control\" id=\"to\" placeholder=\"email(s)\">\n                        </div>\n                    </div>\n                    <div class=\"form-row mb-3\">\n                        <label for=\"cc\" class=\"col-2 col-sm-1 col-form-label fw-bold\">CC:</label>\n                        <div class=\"col-10 col-sm-11\">\n                            <input type=\"email\" class=\"form-control\" id=\"cc\" placeholder=\"email(s)\">\n                            <div\n                                id=\"invalid-email\"\n                                class=\"invalid-feedback text-dark\"\n                            >\n                                <i class=\"bi bi-exclamation-triangle\"></i>\n                                <span id=\"message\">Invalid Email</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"form-row mb-3\">\n                        <label for=\"bcc\" class=\"col-2 col-sm-1 col-form-label fw-bold\">BCC:</label>\n                        <div class=\"col-10 col-sm-11\">\n                            <input type=\"email\" class=\"form-control\" id=\"bcc\" placeholder=\"email(s)\">\n                        </div>\n                    </div>\n                     <div class=\"form-row mb-3\">\n                        <label for=\"subject\" class=\"col-2 col-sm-1 col-form-label fw-bold\">Subject:</label>\n                        <div class=\"col-10 col-sm-11\">\n                            <input type=\"text\" class=\"form-control\" id=\"subject\">\n                        </div>\n                    </div>\n                \n                <div class=\"row\">\n                    <div class=\"col-sm-11 ml-auto\">\n                        <div class=\"toolbar\" role=\"toolbar\">\n                            <div class=\"btn-group\">\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-bold\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-italic\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-underline\"></span>\n                                </button>\n                            </div>\n                            <div class=\"btn-group\">\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-align-left\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-align-right\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-align-center\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-align-justify\"></span>\n                                </button>\n                            </div>\n                            <div class=\"btn-group\">\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-indent\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-outdent\"></span>\n                                </button>\n                            </div>\n                            <div class=\"btn-group\">\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-list-ul\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-light\">\n                                    <span class=\"fa fa-list-ol\"></span>\n                                </button>\n                            </div>\n                            <button type=\"button\" class=\"btn btn-light\">\n                                <span class=\"fa fa-trash-o\"></span>\n                            </button>\n                            <button type=\"button\" class=\"btn btn-light\">\n                                <span class=\"fa fa-paperclip\"></span>\n                            </button>\n                            <div class=\"btn-group\">\n                                <button type=\"button\" class=\"btn btn-light dropdown-toggle\" data-toggle=\"dropdown\">\n                                    <span class=\"fa fa-tags\"></span>\n                                    <span class=\"caret\"></span>\n                                </button>\n                                <div class=\"dropdown-menu\">\n                                    <a class=\"dropdown-item\" href=\"#\">add label <span class=\"badge badge-danger\"> Home</span></a>\n                                    <a class=\"dropdown-item\" href=\"#\">add label <span class=\"badge badge-info\"> Job</span></a>\n                                    <a class=\"dropdown-item\" href=\"#\">add label <span class=\"badge badge-success\"> Clients</span></a>\n                                    <a class=\"dropdown-item\" href=\"#\">add label <span class=\"badge badge-warning\"> News</span></a>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"form-group mt-4\">\n                            <textarea class=\"form-control\" id=\"message\" name=\"body\" rows=\"12\" placeholder=\"Message\"></textarea>\n                        </div>\n                        <div class=\"form-group pt-3 d-flex justify-content-between\">\n                            <button type=\"submit\" class=\"btn btn-success\"><i class=\"bi bi-envelope-arrow-up-fill\"></i> Send</button>\n                            <button type=\"submit\" class=\"btn btn-outline-primary\"><i class=\"bi bi-pencil-square\"></i> Draft</button>\n                            <button type=\"submit\" class=\"btn btn-danger\"><i class=\"bi bi-trash-fill\"></i> Discard</button>\n                        </div>\n                    </div>\n                </div>\n                </form>\n            </div>\n      </div>\n<div class=\"col-md-3 py-4 contacts-pannel\">\n            <div class=\"contacts-pannel-header py-3\">\n                <h5 class=\"text-center fw-bold\">Organizers</h5>\n            </div>\n            <div class=\"panel panel-default bg-white px-3 py-4\">\n\t\t\t<div class=\"panel-body contacts\">\n                <ul>\n                ${organizers.map((organizer)=>`\n                    <li>\n                         <button class=\"text-start btn btn-contact\" data-email=\"${organizer.email}\">${organizer.name}</button>\n                    </li>\n                    `).join(\"\")}\n                </ul>\t\t\t\n\t\t\t</div>\t\t\n\t\t</div>\t      \n  </div>\n`;\nvar $630023b50c919aed$export$2e2bcd8739ae039 = $630023b50c919aed$var$communicationsEmailingForm;\n\n\n\nconst $dfbd417bc094b569$var$ATTENDEES_END_POINT = \"/api/attendees\";\nconst $dfbd417bc094b569$var$ORGANIZERS_END_POINT = \"/api/organizers\";\nclass $dfbd417bc094b569$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Communication\");\n        this.attendeesList = [];\n        this.eventsList = [];\n        this.organizersList = [];\n    }\n    async getHtml() {\n        this.attendeesList = await this.fetchAttendees();\n        this.organizersList = await this.fetchOrganizers();\n        //TODO: fix the logic to display theemail after clicking the contact buttons\n        return this.manageState();\n    }\n    renderHTML() {\n        const formHTML = (0, $630023b50c919aed$export$2e2bcd8739ae039)(this.attendeesList, this.organizersList);\n        const appContainer = document.querySelector(\".app\");\n        if (appContainer) appContainer.innerHTML = `\n        <section>\n          <div class=\"container p3\">\n            <h5>Communication</h5>\n            <button onclick=\"window.history.back()\" data-link class=\"btn btn-outline-primary btn-back\">\n              <i class=\"bi bi-arrow-left-circle-fill\"></i> Go Back\n            </button>\n            <div class=\"form-container\">\n              ${formHTML}\n            </div>\n          </div>\n        </section>\n      `;\n        else console.error(\"The .app container does not exist.\");\n    }\n    manageState() {\n        this.renderHTML(); // Render the HTML with the form\n        // Add event listeners or any additional setup\n        this.handleContactButtons();\n        this.handleEmailForm();\n    }\n    handleContactButtons() {\n        const contactButtons = document.querySelectorAll(\".btn-contact\");\n        if (contactButtons.length > 0) contactButtons.forEach((button)=>{\n            button.addEventListener(\"click\", (event)=>{\n                event.preventDefault();\n                const email = button.getAttribute(\"data-email\");\n                if (email) this.insertEmail(email);\n            });\n        });\n    }\n    insertEmail(email) {\n        const mainEmailInput = document.getElementById(\"to\");\n        const ccEmailInput = document.getElementById(\"cc\");\n        const bccEmailInput = document.getElementById(\"bcc\");\n        if (mainEmailInput) mainEmailInput.value = email;\n        else console.error(\"Email input field not found.\");\n    }\n    /**\r\n   * fetch the attendees from the server\r\n   * @returns attendees array\r\n   */ async fetchAttendees() {\n        try {\n            const attendees = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($dfbd417bc094b569$var$ATTENDEES_END_POINT);\n            //console.table(attendees);\n            return attendees;\n        } catch (error) {\n            console.error(\"Error fetching attendees:\", error);\n        }\n    }\n    /**\r\n   * fetch the organizers from the server\r\n   * @returns organizers array\r\n   */ async fetchOrganizers() {\n        try {\n            const organizers = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($dfbd417bc094b569$var$ORGANIZERS_END_POINT);\n            //console.table(organizers);\n            return organizers;\n        } catch (error) {\n            console.error(\"Error fetching organizers:\", error);\n        }\n    }\n    /* Collect data and send it to the server via AJAX */ handleEmailForm() {\n        document.querySelector(\"form\").addEventListener(\"submit\", async (event)=>{\n            event.preventDefault();\n            //get the data from teh form\n            const emailData = {\n                to: document.getElementById(\"to\").value,\n                cc: document.getElementById(\"cc\").value,\n                bcc: document.getElementById(\"bcc\").value,\n                subject: document.getElementById(\"subject\").value,\n                message: document.getElementById(\"message\").value\n            };\n            try {\n                const response = await fetch(\"/send-email\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(emailData)\n                });\n                if (response.ok) {\n                    alert(\"Message sent succesfully!\");\n                    this.resetForms();\n                } else alert(\"Failed to send message\");\n            } catch (error) {\n                console.error(\"Error:\", error);\n                alert(\"Error sending email.\");\n            }\n        });\n    }\n    resetForms() {\n        //clear inputs\n        document.querySelectorAll(\".message-form input\").forEach((input)=>{\n            input.value = \"\";\n        });\n        document.getElementById(\"message\").value = \"\";\n    }\n}\n\n\n\nconst $8fb5c7f80f48060f$var$eventDetailsCard = (event, organizers)=>`\n<div class=\"row w-100 m-auto\">\n    <div class=\"col-lg-7 p-3 event-col-one\">\n        <div class=\"event-wrap p-3\">\n            <div class=\"event-header-wrap\">\n                <h2 class=\"py-3 fw-bold\">${event.name}</h2>\n            </div>\n            <div class=\"event-media\">\n                <img\n                class=\"image-fluid\"\n                src=\"${event.img_url}\"\n                alt=\"event-media\"\n                />\n                <div class=\"event-tags py-2\">\n                <a href=\"\" class=\"category-box\">${event.category}</a>\n                </div>\n            </div>\n\n            <div class=\"event-content py-5\">\n                <h3\n                class=\"py-3 fw-bold border-bottom border-secondary-subttle\"\n                >\n                Description\n                </h3>\n                <p>${event.description}</p>\n                <h3\n                class=\"py-3 fw-bold border-bottom border-secondary-subttle\"\n                >\n                During this event the following will be covered:\n                </h3>\n                <ul>\n                ${event.topicsCovered.map((topic)=>`\n                <li>${topic}</li>\n                `).join(\"\")}\n                </ul>\n                <h3 class=\"py-3 fw-bold\">Event Preview</h3>\n                <p>\n                <iframe\n                    width=\"100%\"\n                    height=\"450\"\n                    src=\"${event.preview}\"\n                    title=\"YouTube video player\"\n                    frameborder=\"0\"\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n                    referrerpolicy=\"strict-origin-when-cross-origin\"\n                    allowfullscreen\n                ></iframe>\n                </p>\n            </div>\n        </div>\n    </div>\n    <div class=\"col-lg-5 py-3 event-col-two\">\n        <div class=\"event-sidebar d-flex flex-column gap-3\">\n        <div class=\"event-sidebar-header bg-white p-4\">\n            <ul class=\"d-flex flex-column gap-1 ps-0\">\n            <li class=\"list-group-item\">\n                <i class=\"bi bi-geo-alt text-dark\"></i>${event.location}</li>\n                 <hr />\n            <li class=\"list-group-item\">\n                <strong>Date:</strong> January 3, 2025 - January 8, 2025\n            </li>\n            <hr />\n            <li class=\"list-group-item\">\n                <strong>Time:</strong> 12:00 pm - 8:00 pm (UTC)\n            </li>   \n            </ul>\n        </div>\n        <div class=\"goto-attendees-list p-4 bg-white\">\n            <a\n            class=\"btn btn-outline-primary m-auto w-75 d-flex align-items-center gap-3 justify-content-center\"\n            href=\"/event-attendees?id=${event._id}\" data-link\n            ><i class=\"bi bi-person-video2 fs-5\"></i>\n            Attendees List</a\n            >\n        </div>\n        <div class=\"add-calendar p-4 bg-white\">\n            <div class=\"add-calendar-title\">\n            <h4 class=\"pb-3 fw-bold\">Add Event To Calendar</h4>\n            </div>\n            <div class=\"calendar-links\">\n            <ul class=\"ps-0 d-flex flex-column gap-2\">\n                <li class=\"list-group-item\">\n                <a class=\"btn w-50 m-auto text-start\" href=\"\"\n                    ><svg\n                    fill=\"#ff5733\"\n                    width=\"35px\"\n                    height=\"35px\"\n                    viewBox=\"0 0 14 14\"\n                    role=\"img\"\n                    focusable=\"false\"\n                    aria-hidden=\"true\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                    <g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g>\n                    <g\n                        id=\"SVGRepo_tracerCarrier\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                    ></g>\n                    <g id=\"SVGRepo_iconCarrier\">\n                        <path\n                        d=\"m 13,4.69375 0,5.239 c 0,0.115 -0.04,0.212 -0.119,0.288 -0.079,0.077 -0.176,0.115 -0.29,0.115 l -4.2735,0 0,-3.4795 0.8,0.6145 c 0.051,0.0425 0.1145,0.063 0.1895,0.063 0.074,0 0.1385,-0.0205 0.1945,-0.0635 L 13,4.69375 Z m -4.6825,-1.0105 4.2735,0 c 0.1055,0 0.1965,0.0315 0.2715,0.096 0.075,0.064 0.117,0.15 0.124,0.255 l -3.6845,2.938 -0.9845,-0.7745 0,-2.5145 z m -0.6155,-2.251 0,11.1355 -6.702,-1.158 0,-8.7875 6.703,-1.19 -0.001,0 z m -2.0245,5.59 c -0.01,-0.5665 -0.1565,-1.036 -0.4395,-1.407 -0.2775,-0.37 -0.6375,-0.5655 -1.0655,-0.582 -0.412,0.0165 -0.7645,0.2115 -1.05,0.582 -0.285,0.371 -0.4275,0.841 -0.435,1.407 0.0075,0.5585 0.1575,1.0235 0.4425,1.3955 0.2855,0.37 0.637,0.5665 1.0505,0.588 0.4275,-0.0175 0.787,-0.212 1.0725,-0.585 0.285,-0.374 0.435,-0.84 0.4425,-1.3985 l -0.018,0 z m -1.56,-1.241 c 0.2155,0.01 0.397,0.128 0.5415,0.3585 0.1425,0.2305 0.2175,0.5225 0.2175,0.876 0,0.3605 -0.0745,0.6535 -0.2175,0.8855 -0.1505,0.232 -0.33,0.352 -0.548,0.352 -0.218,0 -0.3975,-0.113 -0.5475,-0.345 -0.15,-0.232 -0.2175,-0.525 -0.2175,-0.877 0,-0.3525 0.0675,-0.6455 0.2175,-0.87 0.142,-0.225 0.323,-0.345 0.5405,-0.3605 l 0.0135,-0.0195 z\"\n                        ></path>\n                    </g></svg\n                    >Outlook</a\n                >\n                </li>\n                <li class=\"list-group-item\">\n                <a class=\"btn w-50 m-auto text-start\" href=\"\"\n                    ><i class=\"bi bi-google\"></i> Google</a\n                >\n                </li>\n                <li class=\"list-group-item\">\n                <a class=\"btn w-50 m-auto text-start\" href=\"\"\n                    ><i class=\"bi bi-microsoft-teams\"></i> Teams</a\n                >\n                </li>\n                <li class=\"list-group-item\">\n                <a class=\"btn w-50 m-auto text-start\" href=\"\"\n                    ><i class=\"bi bi-apple\"></i> Apple</a\n                >\n                </li>\n            </ul>\n            </div>\n        </div>\n        <div class=\"event-organizers bg-white p-4\">\n            <h4 class=\"pb-3 fw-bold\">Organizers</h4>\n           <div class=\"organizers-container\">\n                ${organizers.map((organizer)=>`\n                    <div class=\"organizer-card px-4 border-bottom\">\n                    <div class=\"organizer-photo py-3\">\n                        <img\n                        class=\"w-25 image-fluid\"\n                        src=\"${organizer.avatarOrLogo}\"\n                        alt=\"organizer-photo\"\n                        />\n                    </div>\n                    <div class=\"organizer-details\">\n                        <p><strong>${organizer.name}</strong></p>\n                        <div>\n                        <p><strong>Email:</strong></p>\n                        <p>${organizer.email}</p>\n                        </div>\n                    </div>\n                </div>\n                    `)}\n           </div>\n        </div>\n        </div>\n    </div>\n    </div>\n\n`;\nvar $8fb5c7f80f48060f$export$2e2bcd8739ae039 = $8fb5c7f80f48060f$var$eventDetailsCard;\n\n\nconst $ce7e1e918bd6351e$var$eventPhotoGallery = (event)=>`\n<div class=\"p-3\">\n            <div class=\"bg-white px-3\">\n              <h3 class=\"py-3 border-bottom border-secondary-subttle\"><strong>${event.name} - Photo Gallery</strong></h3>\n              <div class=\"scroll-wrapper \">\n                <div class=\"event-photo-gallery row d-flex flex-nowrap py-4\">\n                  ${event.imageGallery.map((image)=>`\n                    <div class=\"col-lg-4 col-sm-6 col-md-4\">\n                        <div class=\"gallery-card\">\n                            <div class=\"img-container w-100\">\n                                <img class=\"img-fluid w-100\" src=\"${image}\" alt=\"event-gallery-image\"/>\n                            </div>  \n                        </div>              \n                    </div>  \n                    `).join(\"\")}\n                </div>\n              </div>\n            </div>\n        </div>\n`;\nvar $ce7e1e918bd6351e$export$2e2bcd8739ae039 = $ce7e1e918bd6351e$var$eventPhotoGallery;\n\n\n\nconst $3e4bcfd1918def4c$var$EVENTS_END_POINT = \"/api/events\";\nconst $3e4bcfd1918def4c$var$ORGANIZERS_END_POINT = \"/api/organizers\";\nclass $3e4bcfd1918def4c$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Event Details\");\n        this.eventsList = [];\n        this.organizersList = [];\n        this.eventOrganizers = [];\n    }\n    async getHtml() {\n        this.eventsList = await this.fetchEvents();\n        this.organizersList = await this.fetchOrganizers();\n        // Get the `id` from the URL\n        this.urlParams = new URLSearchParams(window.location.search);\n        const id = this.urlParams.get(\"id\");\n        const currentEvent = this.eventsList.find((event)=>event._id === id);\n        currentEvent.organizerId.forEach((o_id)=>{\n            let currentOrganizer = this.organizersList.find((organizer)=>organizer._id === o_id);\n            this.eventOrganizers.push(currentOrganizer);\n        });\n        return `\n    <section>\n      <div class=\"container p-3 event-details\">\n        <div class=\"border-bottom border-secondary-subttle d-block pb-3\">\n          <h5 class=\"mb-3\">Event Details</h5>\n         <div class=\"d-flex justify-content-between\">\n            <a href=\"/events\" data-link class=\"btn btn-outline-primary\"\n              ><i class=\"bi bi-arrow-left-circle-fill\"></i> Back to Events Listing</a\n            >\n            <a href=\"/edit-event?id=${id}\" data-link class=\"btn btn-info\"\n              ><i class=\"bi bi-pencil-square\"></i> Edit Event</a\n            >\n         </div>\n        </div>\n        <div class=\"event-details-container py-3\"> \n        ${(0, $8fb5c7f80f48060f$export$2e2bcd8739ae039)(currentEvent, this.eventOrganizers)}         \n        </div>\n      </div>\n    </section>\n    <section>\n      <div class=\"container px-3 py-3 event-details\">       \n        ${(0, $ce7e1e918bd6351e$export$2e2bcd8739ae039)(currentEvent)}\n      </div>\n    </section>\n    `;\n    }\n    /**\r\n   * fetch the events from the server\r\n   * @returns events array\r\n   */ async fetchEvents() {\n        try {\n            const events = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($3e4bcfd1918def4c$var$EVENTS_END_POINT);\n            //console.table(events);\n            return events;\n        } catch (error) {\n            console.error(\"Error fetching events:\", error);\n        }\n    }\n    /**\r\n   * fetch the organizers from the server\r\n   * @returns organizers array\r\n   */ async fetchOrganizers() {\n        try {\n            const organizers = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($3e4bcfd1918def4c$var$ORGANIZERS_END_POINT);\n            //console.table(organizers);\n            return organizers;\n        } catch (error) {\n            console.error(\"Error fetching organizers:\", error);\n        }\n    }\n}\n\n\n\n\nconst $c9e4a8adc52782ff$var$attendeeCard = (attendee, events)=>`\n<div class=\"row w-100 m-auto\">\n    <div class=\"col-4 p-3 attendee-details-col-one\">\n        <div class=\"p-3 attendee-details-warap bg-white\">\n\n        <div class=\"py-3\">\n            <img src=\"${attendee.avatar}\" alt=\"attendee-photo\"></img>\n        </div>\n        <div>\n            <h5 class=\"text-center fw-bold\">${attendee.name}</h5>\n            <p class=\"text-center\">${attendee.city}</p>\n        </div>\n        <div class=\"text-center\">\n            <a href=\"communication\" data-link class=\"btn btn-primary btn-contact\">Contact</a>\n        </div>\n        \n        </div>\n    </div>\n    <div class=\"col-8 p-3\">\n        <div class=\"p-4 bg-white\">\n           <div>\n                <ul class=\"ps-0\">\n                    <li class=\"border-bottom list-group-item\">\n                        <div class=\"row w-100\"> \n                        <div class=\"col-4\">\n                            <p><strong>Name:</strong></p>\n                        </div>\n                        <div class=\"col-8\">\n                            <p>${attendee.name}</p >\n                        </div>\n                        </div>\n                    </li>\n                    <li class=\"border-bottom list-group-item\">\n                        <div class=\"row w-100\"> \n                        <div class=\"col-4\">\n                            <p><strong>Email:</strong></p>\n                        </div>\n                        <div class=\"col-8\">\n                            <p>${attendee.email}</p >\n                        </div>\n                        </div>\n                    </li>\n                    <li class=\"border-bottom list-group-item\">\n                        <div class=\"row w-100\"> \n                        <div class=\"col-4\">\n                            <p><strong>Phone:</strong></p>\n                        </div>\n                        <div class=\"col-8\">\n                            <p>${attendee.phone}</p >\n                        </div>\n                        </div>\n                    </li>\n                    <li class=\"border-bottom list-group-item\">\n                        <div class=\"row w-100\"> \n                        <div class=\"col-4\">\n                            <p><strong>Address:</strong></p>\n                        </div>\n                        <div class=\"col-8\">\n                            <p>${attendee.address}, ${attendee.city}</p >\n                        </div>\n                        </div>\n                    </li>\n                </ul>         \n           </div>            \n        </div> \n        <div class=\"bg-white mt-4 pb-4\">\n            <div class=\"table-wrapper pt-4\">\n\n            <table id=\"attendees\" class=\"table table-striped table-sm\">\n                <thead>\n                <tr>                  \n                    <th class=\"ps-3\">EVENT</th>\n                    <th>DATE</th>\n                    <th>LOCATION</th>\n                </tr>\n                </thead>\n                <tbody>\n                    ${events.map((event)=>`\n                    <tr>\n                        <td class=\"ps-3\">${event.name}</td>\n                        <td>Date</td>\n                        <td>${event.location}</td>\n                    </tr>                        \n                        `).join(\"\")}\n                </tbody>\n            </table>\n\n            \n            </div>\n\n           </div>                       \n    </div>              \n    </div>\n`;\nvar $c9e4a8adc52782ff$export$2e2bcd8739ae039 = $c9e4a8adc52782ff$var$attendeeCard;\n\n\nconst $8084b848fef8a039$var$ATTENDEES_END_POINT = \"/api/attendees\";\nconst $8084b848fef8a039$var$EVENTS_END_POINT = \"/api/events\";\nclass $8084b848fef8a039$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Attendee Details\");\n        this.attendeesList = [];\n        this.eventsList = [];\n    }\n    async getHtml() {\n        this.eventsList = await this.fetchEvents();\n        this.attendeesList = await this.fetchAttendees();\n        // Get the `id` from the URL\n        this.urlParams = new URLSearchParams(window.location.search);\n        const id = this.urlParams.get(\"id\");\n        const currentAttendee = this.attendeesList.find((attendee)=>attendee._id === id);\n        const attendeEvents = [];\n        currentAttendee.events.forEach((event)=>{\n            let element = this.eventsList.find((element)=>element._id === event);\n            attendeEvents.push(element);\n        });\n        return `\n    <section>\n        <div class=\"container p-3  event-details\">    \n            <div class=\"border-bottom border-secondary-subttle d-block pb-3\">\n              <h5 class=\"mb-3\">Attendee Details</h5>\n              <button onclick=\"window.history.back()\" data-link class=\"btn btn-outline-primary\"\n                ><i class=\"bi bi-arrow-left-circle-fill\"></i> Back</\n              >\n            </div>\n            <div class=\"attendee-details-container py-3\">\n              ${(0, $c9e4a8adc52782ff$export$2e2bcd8739ae039)(currentAttendee, attendeEvents)}\n                          \n            </div>\n        </div>\n    </section>\n    `;\n    }\n    /**\r\n   * fetch the attendees from the server\r\n   * @returns attendees array\r\n   */ async fetchAttendees() {\n        try {\n            const attendees = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($8084b848fef8a039$var$ATTENDEES_END_POINT);\n            //console.table(attendees);\n            return attendees;\n        } catch (error) {\n            console.error(\"Error fetching attendees:\", error);\n        }\n    }\n    /**\r\n   * fetch the events from the server\r\n   * @returns events array\r\n   */ async fetchEvents() {\n        try {\n            const events = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($8084b848fef8a039$var$EVENTS_END_POINT);\n            //console.table(events);\n            return events;\n        } catch (error) {\n            console.error(\"Error fetching events:\", error);\n        }\n    }\n}\n\n\n\n\nconst $aefb02f15e1bb123$var$ATTENDEES_END_POINT = \"/api/attendees\";\nconst $aefb02f15e1bb123$var$EVENTS_END_POINT = \"/api/events\";\nclass $aefb02f15e1bb123$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Event Attendees\");\n        this.attendeesList = [];\n        this.eventsList = [];\n    }\n    async getHtml() {\n        this.eventsList = await this.fetchEvents();\n        this.attendeesList = await this.fetchAttendees();\n        // Get the `id` from the URL\n        this.urlParams = new URLSearchParams(window.location.search);\n        const id = this.urlParams.get(\"id\");\n        const currentEvent = this.eventsList.find((event)=>event._id === id);\n        const eventAttendeesList = this.attendeesList.filter((attendee)=>{\n            return attendee.events.includes(currentEvent._id);\n        });\n        return `\n    <section class=\"py-3\">\n        <div class=\"container bg-white p-3\">\n            <div class=\"border-bottom border-secondary-subttle pb-3\">\n                <h5 class=\"mb-3\"><i class=\"bi bi-calendar2-event\"></i> ${currentEvent.name} - Attendees</h5>\n                <button onclick=\"window.history.back()\" data-link class=\"btn btn-outline-primary btn-back\"\n            ><i class=\"bi bi-arrow-left-circle-fill\"></i> Back to Event Details</button\n          >\n            </div>\n             <div class=\"table-wrapper pb-4 px-4\">\n          <table id=\"attendees\" class=\"table table-striped table-sm\">\n            <thead>\n              <tr>\n                <th></th>\n                <th>NAME</th>\n                <th>CITY</th>\n                <th>EMAIL</th>\n                <th>PHONE</th>\n                <th>ACTIONS</th>\n              </tr>\n            </thead>\n            <tbody>\n            ${eventAttendeesList.map((attendee)=>`\n              <tr>\n                <td>\n                  <img class=\"attendee-avatar\" src=\"${attendee.avatar}\" alt=\"attendee-photo\"/>\n                </td>\n                <td class=\"align-middle\">${attendee.name}</td>\n                <td class=\"align-middle\">${attendee.city}</td>\n                <td class=\"align-middle\">${attendee.email}</td>\n                <td class=\"align-middle\">${attendee.phone}</td>\n                <td class=\"px-0 align-middle\">\n                    <div>\n                      <a href=\"/attendee-details?id=${attendee._id}\"  data-link class=\"btn btn-primary\" >Details <i class=\"bi bi-arrow-right-circle-fill\"></i></a>\n                    </div>\n                </td>\n              </tr> \n              `).join(\"\")}                \n            </tbody>\n          </table>\n     \n      </div>  \n        </div>     \n       \n    </section>\n    `;\n    }\n    /**\r\n   * fetch the attendees from the server\r\n   * @returns attendees array\r\n   */ async fetchAttendees() {\n        try {\n            const attendees = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($aefb02f15e1bb123$var$ATTENDEES_END_POINT);\n            //console.table(attendees);\n            return attendees;\n        } catch (error) {\n            console.error(\"Error fetching attendees:\", error);\n        }\n    }\n    /**\r\n   * fetch the events from the server\r\n   * @returns events array\r\n   */ async fetchEvents() {\n        try {\n            const events = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($aefb02f15e1bb123$var$EVENTS_END_POINT);\n            //console.table(events);\n            return events;\n        } catch (error) {\n            console.error(\"Error fetching events:\", error);\n        }\n    }\n    goBackToPreviousPage() {\n        window.history.back();\n    }\n}\n\n\n\n\nconst $3b13b790ce4e5db0$var$EVENTS_END_POINT = \"/api/events\";\nconst $3b13b790ce4e5db0$var$ORGANIZERS_END_POINT = \"/api/organizers\";\nclass $3b13b790ce4e5db0$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Create Event\");\n        let organizersList = [];\n    }\n    async getHtml() {\n        this.organizersList = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($3b13b790ce4e5db0$var$ORGANIZERS_END_POINT);\n        return `\n     <section class=\"py-3\">\n      <div class=\"container bg-white p-3\">\n        <div class=\"border-bottom border-secondary-subttle pb-3\">\n          <h5 class=\"mb-3\">\n            <i class=\"bi bi-calendar-plus-fill\"></i> Create Events\n          </h5>\n          <button\n            onclick=\"window.history.back()\"\n            data-link\n            class=\"btn btn-outline-primary btn-back\"\n          >\n            <i class=\"bi bi-arrow-left-circle-fill\"></i> Back to Events\n          </button>\n          \n        </div>\n        <div>\n          <div>\n            <form class=\"event-form\">\n              <div>\n                <div class=\"row py-4 ps-0\">\n                  <label class=\"form-label col-3\" for=\"event-name\">\n                    Event Name:\n                  </label>\n                  <div class=\"col-9 p-0\">\n                    <input\n                      class=\"form-control w-75\"\n                      name=\"name\"\n                      id=\"event-name\"\n                      type=\"text\"\n                    ></input>\n                    <div\n                      id=\"invalid-event-name\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid Event Name</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <label class=\"form-label col-3\" for=\"event-description\">\n                    Description:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <textarea\n                      class=\"form-control w-75\"\n                      name=\"description\"\n                      id=\"event-description\"\n                      type=\"text\"\n                      rows=\"4\"\n                    ></textarea>\n                    <div\n                      id=\"invalid-event-description\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event description</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row py-4\">\n                  <label class=\"form-label col-3\" for=\"event-topics\">\n                    Topics to Cover:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <input\n                      class=\"form-control w-75\"\n                      name=\"topicsCovered\"\n                      id=\"event-topics\"\n                      type=\"text\"\n                      placeholder=\"e.g. ReactJS, Bootstrap, NodeJS\"\n                    ></input>\n                    <div\n                      id=\"invalid-event-topics\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event topics</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <label class=\"form-label col-3\" for=\"event-location\">\n                    Location:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <input\n                      class=\"form-control w-75\"\n                      name=\"location\"\n                      id=\"event-location\"\n                      type=\"text\"\n                    ></input>\n                    <div\n                      id=\"invalid-event-location\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event location</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row py-4\">\n                  <label class=\"form-label col-3\" for=\"event-delivery\">\n                    Delivery Mode:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <select\n                      class=\"form-select col-8 w-50 text-muted\"\n                      name=\"delivery\"\n                      id=\"event-delivery\"\n                      type=\"text\"\n                    >\n                      <option selected value=\"0\">\n                        Select a modality . . .\n                      </option>\n                      <option value=\"In-Person\">In-Person</option>\n                      <option value=\"Virtual\">Virtual</option>\n                      <option value=\"Hybrid\">Hybrid</option>\n                    </select>\n                    <div\n                      id=\"invalid-event-delivery\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event modality</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <label class=\"form-label col-3\" for=\"event-capacity\">\n                    Capacity:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <input\n                      class=\"form-control w-75\"\n                      name=\"maxCapacity\"\n                      id=\"event-capacity\"\n                      type=\"number\"\n                      value=\"0\"\n                    />\n                    <div\n                      id=\"invalid-event-capacity\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event capacity</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row py-4\">\n                  <label class=\"form-label col-3\" for=\"event-category\">\n                    Category:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <select\n                      class=\"form-select col-8 w-50 text-muted\"\n                      name=\"category\"\n                      id=\"event-category\"\n                    >\n                      <option selected value=\"0\">\n                        Select a category . . .\n                      </option>\n                      <option value=\"Social\">Social</option>\n                      <option value=\"Workshop\">Workshop</option>\n                      <option value=\"Seminar\">Seminar</option>\n                      <option value=\"Fair\">Fair</option>\n                      <option value=\"Festival\">Festival</option>\n                    </select>\n                    <div\n                      id=\"invalid-event-category\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event category</span>\n                    </div>\n                  </div>\n                </div>                \n                <div class=\"row pb-4\">\n                  <label class=\"form-label col-3\" for=\"event-organizer\">\n                    Organizer:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <select\n                      class=\"form-select col-8 w-50 text-muted\"\n                      name=\"organizerId\"\n                      id=\"event-organizer\"\n                    >\n                      <option value=\"0\" selected>\n                        Select organizer . . .\n                      </option>\n                      ${this.organizersList.length > 0 ? this.organizersList.map((organizer)=>`<option value=\"${organizer._id}\">${organizer.name}</option>`).join(\"\") : `<option value=\"none\" disabled>No organizers available</option>`}\n                    </select>\n                    <div\n                      id=\"invalid-event-organizer\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event organizer</span>\n                    </div>\n                  </div>\n                </div>               \n                <div class=\"w-50 m-auto py-3 text-center\">\n                  <button class=\"btn btn-success\">\n                    <i class=\"bi bi-floppy\"></i> Save Event\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </section> \n    `;\n    }\n    manageState() {\n        this.initializeElements();\n        this.removeErrorMessagesOnInput();\n        const { eventForm: eventForm } = this.domElements;\n        if (eventForm) eventForm.addEventListener(\"submit\", this.handleAddEventForm);\n    //remove all error messages from the elements on input\n    }\n    initializeElements() {\n        this.domElements = {\n            eventForm: document.querySelector(\".event-form\"),\n            invalidFeedbackMessages: document.querySelectorAll(\".invalid-feedback\"),\n            addEventFormInputs: document.querySelectorAll(\".event-form input\"),\n            eventFormSelect: document.querySelectorAll(\".event-form select\"),\n            eventDescription: document.getElementById(\"event-description\")\n        };\n    }\n    /**\r\n   * handle registration form submission\r\n   * @param {*} event\r\n   */ handleAddEventForm = async (event)=>{\n        event.preventDefault();\n        const formData = new FormData(event.target);\n        const eventData = Object.fromEntries(formData.entries());\n        console.log(\"event data\", eventData);\n        const isValidForm = this.validateCreateEventForm(eventData);\n        if (isValidForm) {\n            console.log(\"is the form valid?\", isValidForm);\n            try {\n                const isSuccess = await this.createNewEvent(eventData.name, eventData.description, eventData.topicsCovered, eventData.location, eventData.delivery, eventData.maxCapacity, eventData.category, eventData.organizerId);\n                if (isSuccess) {\n                    alert(\"Event added succesfully.\");\n                    this.resetForms();\n                }\n            } catch (error) {\n                console.error(\"Error creating event:\", error);\n                alert(\"There was an error adding the event.\");\n            }\n        }\n    };\n    /**\r\n   * validate the forms\r\n   */ validateCreateEventForm(data) {\n        let isValid = true;\n        isValid = this.validateField(data.name, \"invalid-event-name\") && isValid;\n        isValid = this.validateField(data.description, \"invalid-event-description\") && isValid;\n        isValid = this.validateField(data.topicsCovered, \"invalid-event-topics\") && isValid;\n        isValid = this.validateField(data.location, \"invalid-event-location\") && isValid;\n        isValid = this.validateField(data.delivery !== \"0\", \"invalid-event-delivery\") && isValid;\n        isValid = this.validateField(data.maxCapacity, \"invalid-event-capacity\") && isValid;\n        isValid = this.validateField(data.category !== \"0\", \"invalid-event-category\") && isValid;\n        isValid = this.validateField(data.organizerId !== \"0\", \"invalid-event-organizer\") && isValid;\n        return Boolean(isValid);\n    }\n    /**\r\n   * validate individual fields\r\n   * @param {*} value\r\n   * @param {*} elementId\r\n   */ validateField(value, elementId) {\n        const messageElement = document.getElementById(elementId);\n        if (!value) {\n            messageElement.classList.add(\"d-block\");\n            return false;\n        } else {\n            messageElement.classList.remove(\"d-block\");\n            return true;\n        }\n    }\n    /**\r\n   * Create new Event\r\n   */ async createNewEvent(name, description, topicsCovered, location, delivery, maxCapacity, category, organizerId) {\n        let newEvent = {\n            name: name,\n            description: description,\n            topicsCovered: topicsCovered,\n            location: location,\n            delivery: delivery,\n            maxCapacity: maxCapacity,\n            category: category,\n            organizerId: organizerId\n        };\n        try {\n            const response = await (0, $55510dd80b4e0306$export$15d8621db9a88346)($3b13b790ce4e5db0$var$EVENTS_END_POINT, newEvent);\n            console.log(\"Event created successfully:\", response);\n        } catch (error) {\n            console.error(\"Error sending event:\", error);\n            throw error;\n        }\n        return true;\n    }\n    /**\r\n   * reset the forms\r\n   */ resetForms() {\n        //clear inputs\n        document.querySelectorAll(\".form-control\").forEach((input)=>{\n            input.value = \"\";\n        });\n        //reset dropdowns\n        document.querySelectorAll(\".form-select\").forEach((select)=>{\n            select.selectedIndex = \"0\";\n        });\n    }\n    /**\r\n   * Reset all fedback messages\r\n   */ resetFeedbaackMessages() {\n        this.domElements.invalidFeedbackMessages.forEach((message)=>{\n            message.classList.remove(\"d-block\");\n        });\n    }\n    removeErrorMessagesOnInput() {\n        const { addEventFormInputs: addEventFormInputs, eventDescription: eventDescription, eventFormSelect: eventFormSelect } = this.domElements;\n        addEventFormInputs.forEach((input)=>{\n            input.addEventListener(\"input\", (event)=>{\n                const inputId = input.id;\n                const messageElement = document.getElementById(`invalid-${inputId}`);\n                if (input.value) messageElement.classList.remove(\"d-block\");\n            });\n        });\n        eventDescription.addEventListener(\"input\", ()=>{\n            const messageElement = document.getElementById(`invalid-event-description`);\n            if (eventDescription.value) messageElement.classList.remove(\"d-block\");\n        });\n        eventFormSelect.forEach((item)=>{\n            item.addEventListener(\"change\", ()=>{\n                const itemId = item.id;\n                const messageElement = document.getElementById(`invalid-${itemId}`);\n                if (itemId.value !== \"0\") messageElement.classList.remove(\"d-block\");\n            });\n        });\n    }\n}\n\n\n\n\nconst $bb5c90b6d3cd8b06$var$EVENTS_END_POINT = \"/api/events\";\nconst $bb5c90b6d3cd8b06$var$ORGANIZERS_END_POINT = \"/api/organizers\";\nclass $bb5c90b6d3cd8b06$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Create Event\");\n        this.organizersList = [];\n        this.eventOrganizers = [];\n        this.currentEvent = \"\";\n    }\n    async getHtml() {\n        this.eventsList = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($bb5c90b6d3cd8b06$var$EVENTS_END_POINT);\n        this.organizersList = await (0, $55510dd80b4e0306$export$7a171f172be0782e)($bb5c90b6d3cd8b06$var$ORGANIZERS_END_POINT);\n        // Get the `id` from the URL\n        this.urlParams = new URLSearchParams(window.location.search);\n        const id = this.urlParams.get(\"id\");\n        this.currentEvent = this.eventsList.find((event)=>event._id === id);\n        this.currentEvent.organizerId.forEach((o_id)=>{\n            let currentOrganizer = this.organizersList.find((organizer)=>organizer._id === o_id);\n            this.eventOrganizers.push(currentOrganizer);\n        });\n        return `\n     <section class=\"py-3\">\n      <div class=\"container bg-white p-3\">\n        <div class=\"border-bottom border-secondary-subttle pb-3\">\n          <h5 class=\"mb-3\">\n            <i class=\"bi bi-pencil-square\"></i> Edit Event\n          </h5>\n          <button\n            onclick=\"window.history.back()\"\n            data-link\n            class=\"btn btn-outline-primary btn-back\"\n          >\n            <i class=\"bi bi-x-circle-fill\"></i> Cancel\n          </button>\n        </div>\n        <div>\n          <div>\n            <form class=\"event-form\">\n              <div>\n                <div class=\"row py-4 ps-0\">\n                  <label class=\"form-label col-3\" for=\"event-name\">\n                    Event Name:\n                  </label>\n                  <div class=\"col-9 p-0\">\n                    <input\n                      readonly \n                      class=\"form-control w-75 bg-secondary-subtle\"\n                      name=\"name\"\n                      id=\"event-name\"\n                      type=\"text\"\n                      value=\"${this.currentEvent.name}\"\n                    >\n                    <div\n                      id=\"invalid-event-name\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid Event Name</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <label class=\"form-label col-3\" for=\"event-description\">\n                    Description:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <textarea\n                      class=\"form-control w-75\"\n                      name=\"description\"\n                      id=\"event-description\"\n                      type=\"text\"\n                      rows=\"4\"\n                    >${this.currentEvent.description}</textarea>\n                    <div\n                      id=\"invalid-event-description\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event description</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row py-4\">\n                  <label class=\"form-label col-3\" for=\"event-topics\">\n                    Topics to Cover:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <input\n                    value=\"${this.currentEvent.topicsCovered}\"\n                      class=\"form-control w-75\"\n                      name=\"topicsCovered\"\n                      id=\"event-topics\"\n                      type=\"text\"\n                      placeholder=\"e.g. ReactJS, Bootstrap, NodeJS\"\n                    >\n                    <div\n                      id=\"invalid-event-topics\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event topics</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <label class=\"form-label col-3\" for=\"event-location\">\n                    Location:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <input\n                      value=\"${this.currentEvent.location}\"\n                      class=\"form-control w-75\"\n                      name=\"location\"\n                      id=\"event-location\"\n                      type=\"text\"\n                    >\n                    <div\n                      id=\"invalid-event-location\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event location</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row py-4\">\n                  <label class=\"form-label col-3\" for=\"event-delivery\">\n                    Delivery Mode:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <select\n                      class=\"form-select col-8 w-50 text-muted\"\n                      name=\"delivery\"\n                      id=\"event-delivery\"\n                      type=\"text\"\n                    >\n                      <option selected value=\"0\">\n                        Select a modality . . .\n                      </option>\n                      <option value=\"In-Person\">In-Person</option>\n                      <option value=\"Virtual\">Virtual</option>\n                      <option value=\"Hybrid\">Hybrid</option>\n                    </select>\n                    <div\n                      id=\"invalid-event-delivery\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event modality</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <label class=\"form-label col-3\" for=\"event-capacity\">\n                    Capacity:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <input\n                      value=\"${this.currentEvent.maxCapacity}\"\n                      class=\"form-control w-75\"\n                      name=\"maxCapacity\"\n                      id=\"event-capacity\"\n                      type=\"number\"\n                      value=\"0\"\n                    />\n                    <div\n                      id=\"invalid-event-capacity\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event capacity</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row py-4\">\n                  <label class=\"form-label col-3\" for=\"event-category\">\n                    Category:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <select\n                      class=\"form-select col-8 w-50 text-muted\"\n                      name=\"category\"\n                      id=\"event-category\"\n                    >\n                      <option selected value=\"0\">\n                        Select a category . . .\n                      </option>\n                      <option value=\"Social\">Social</option>\n                      <option value=\"Workshop\">Workshop</option>\n                      <option value=\"Seminar\">Seminar</option>\n                      <option value=\"Fair\">Fair</option>\n                      <option value=\"Festival\">Festival</option>\n                    </select>\n                    <div\n                      id=\"invalid-event-category\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event category</span>\n                    </div>\n                  </div>\n                </div> \n                 <div class=\"row pb-4\">\n                  <label class=\"form-label col-3\" for=\"current-event-location\"\">\n                    Current Organizer(s):\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                  ${this.eventOrganizers.length > 0 ? this.eventOrganizers.map((organizer)=>`\n                     <input\n                      readonly \n                      value=\"${organizer.name}\"\n                      class=\"form-control w-75 mb-3 bg-secondary-subtle\"\n                      name=\"currentOrganizer\"\n                      id=\"current-event-location\"\n                      type=\"text\"\n                    > `).join(\"\") : `<input value=\"No organizers available\" readonly  class=\"form-control w-75\">`}\n                                   \n                  </div>\n                </div>               \n                <div class=\"row pb-4\">\n                  <label class=\"form-label col-3\" for=\"event-organizer\">\n                    Add Organizer:\n                  </label>\n                  <div class=\"col-9 ps-0\">\n                    <select\n                      class=\"form-select col-8 w-50 text-muted\"\n                      name=\"organizerId\"\n                      id=\"event-organizer\"\n                    >\n                      <option value=\"0\" selected>\n                        Select organizer . . .\n                      </option>\n                      ${this.organizersList.length > 0 ? this.organizersList.map((organizer)=>`<option value=\"${organizer._id}\">${organizer.name}</option>`).join(\"\") : `<option value=\"none\" readonly >No organizers available</option>`}\n                    </select>\n                    <div\n                      id=\"invalid-event-organizer\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid event organizer</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row w-75 m-auto py-3\">\n                  <div class=\"col-3\">\n                    <button class=\"btn btn-outline-info btn-upload\" type=\"button\">\n                      Upload Image\n                    </button>\n                  </div>\n                  <div class=\"col-9 p-0\">\n                    <input\n                      type=\"file\"\n                      id=\"file\"\n                      name=\"eventImage\"\n                      accept=\"image/*\"\n                      class=\"text-muted form-control file-input\"\n                    >\n                     <div\n                      id=\"invalid-file\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span id=\"message\">Invalid file</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"w-50 m-auto py-3 text-center\">\n                  <button class=\"btn btn-success\">\n                    <i class=\"bi bi-floppy\"></i> Save Changes\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </section> \n    `;\n    }\n    manageState() {\n        this.initializeElements();\n        this.removeErrorMessagesOnInput();\n        const { eventForm: eventForm } = this.domElements;\n        if (eventForm) eventForm.addEventListener(\"submit\", this.handleAddEventForm);\n        this.setSelectElementsInitialValue(this.currentEvent);\n        this.uploadPictures();\n    }\n    initializeElements() {\n        this.domElements = {\n            eventForm: document.querySelector(\".event-form\"),\n            invalidFeedbackMessages: document.querySelectorAll(\".invalid-feedback\"),\n            addEventFormInputs: document.querySelectorAll(\".event-form input\"),\n            eventFormSelect: document.querySelectorAll(\".event-form select\"),\n            eventDescription: document.getElementById(\"event-description\"),\n            selectEventCategory: document.getElementById(\"event-category\"),\n            selectEventDelivery: document.getElementById(\"event-delivery\"),\n            uploadButton: document.querySelector(\".btn-upload\"),\n            fileInput: document.querySelector(\".file-input\")\n        };\n    }\n    setSelectElementsInitialValue(event) {\n        const { selectEventCategory: selectEventCategory, selectEventDelivery: selectEventDelivery } = this.domElements;\n        selectEventDelivery.value = event.delivery;\n        selectEventCategory.value = event.category;\n    }\n    /**\r\n   * handle registration form submission\r\n   * @param {*} event\r\n   */ handleAddEventForm = async (event)=>{\n        event.preventDefault();\n        // Get the `id` from the URL\n        this.urlParams = new URLSearchParams(window.location.search);\n        const id = this.urlParams.get(\"id\");\n        const formData = new FormData(event.target);\n        const eventData = Object.fromEntries(formData.entries());\n        console.log(id);\n        const isValidForm = this.validateCreateEventForm(eventData);\n        if (isValidForm) {\n            console.log(\"is the form valid?\", isValidForm);\n            try {\n                const isSuccess = await this.updateCurrentEvent(id, eventData.name, eventData.description, eventData.topicsCovered, eventData.location, eventData.delivery, eventData.maxCapacity, eventData.category, eventData.organizerId);\n                if (isSuccess) {\n                    alert(\"Event updated succesfully.\");\n                    this.resetForms();\n                }\n            } catch (error) {\n                console.error(\"Error updating event:\", error);\n                alert(\"There was an error updating the event.\");\n            }\n        }\n    };\n    /**\r\n   * validate the forms\r\n   */ validateCreateEventForm(data) {\n        let isValid = true;\n        isValid = this.validateField(data.name, \"invalid-event-name\") && isValid;\n        isValid = this.validateField(data.description, \"invalid-event-description\") && isValid;\n        isValid = this.validateField(data.topicsCovered, \"invalid-event-topics\") && isValid;\n        isValid = this.validateField(data.location, \"invalid-event-location\") && isValid;\n        isValid = this.validateField(data.delivery !== \"0\", \"invalid-event-delivery\") && isValid;\n        isValid = this.validateField(data.maxCapacity, \"invalid-event-capacity\") && isValid;\n        isValid = this.validateField(data.category !== \"0\", \"invalid-event-category\") && isValid;\n        isValid = this.validateField(data.organizerId !== \"0\", \"invalid-event-organizer\") && isValid;\n        return Boolean(isValid);\n    }\n    /**\r\n   * validate individual fields\r\n   * @param {*} value\r\n   * @param {*} elementId\r\n   */ validateField(value, elementId) {\n        const messageElement = document.getElementById(elementId);\n        if (!value) {\n            messageElement.classList.add(\"d-block\");\n            return false;\n        } else {\n            messageElement.classList.remove(\"d-block\");\n            return true;\n        }\n    }\n    /**\r\n   * Create new Event\r\n   */ async updateCurrentEvent(_id, name, description, topicsCovered, location, delivery, maxCapacity, category, organizerId) {\n        let eventToUpdate = {\n            name: name,\n            description: description,\n            topicsCovered: topicsCovered,\n            location: location,\n            delivery: delivery,\n            maxCapacity: maxCapacity,\n            category: category,\n            organizerId: organizerId\n        };\n        try {\n            const response = await (0, $55510dd80b4e0306$export$3bf0495508a61ee)($bb5c90b6d3cd8b06$var$EVENTS_END_POINT, _id, eventToUpdate);\n        } catch (error) {\n            console.error(\"Error updating event:\", error);\n            throw error;\n        }\n        return true;\n    }\n    /**\r\n   * reset the forms\r\n   */ resetForms() {\n        //clear inputs\n        document.querySelectorAll(\".form-control\").forEach((input)=>{\n            input.value = \"\";\n        });\n        //reset dropdowns\n        document.querySelectorAll(\".form-select\").forEach((select)=>{\n            select.selectedIndex = \"0\";\n        });\n    }\n    /**\r\n   * Reset all fedback messages\r\n   */ resetFeedbaackMessages() {\n        this.domElements.invalidFeedbackMessages.forEach((message)=>{\n            message.classList.remove(\"d-block\");\n        });\n    }\n    removeErrorMessagesOnInput() {\n        const { addEventFormInputs: addEventFormInputs, eventDescription: eventDescription, eventFormSelect: eventFormSelect } = this.domElements;\n        addEventFormInputs.forEach((input)=>{\n            input.addEventListener(\"input\", (event)=>{\n                const inputId = input.id;\n                const messageElement = document.getElementById(`invalid-${inputId}`);\n                if (input.value) messageElement.classList.remove(\"d-block\");\n            });\n        });\n        eventDescription.addEventListener(\"input\", ()=>{\n            const messageElement = document.getElementById(`invalid-event-description`);\n            if (eventDescription.value) messageElement.classList.remove(\"d-block\");\n        });\n        eventFormSelect.forEach((item)=>{\n            item.addEventListener(\"change\", ()=>{\n                const itemId = item.id;\n                const messageElement = document.getElementById(`invalid-${itemId}`);\n                if (itemId.value !== \"0\") messageElement.classList.remove(\"d-block\");\n            });\n        });\n    }\n    uploadPictures() {\n        const { uploadButton: uploadButton, fileInput: fileInput } = this.domElements;\n        if (!uploadButton || !fileInput) {\n            console.error(\"DOM elements not found!\");\n            return;\n        }\n        uploadButton.addEventListener(\"click\", async (event)=>{\n            event.preventDefault();\n            const file = fileInput.files[0];\n            if (!file) {\n                alert(\"Please select a file to upload\");\n                console.error(\"No file selected\");\n                return;\n            }\n            console.log(\"Selected file:\", file);\n            const formData = new FormData();\n            formData.append(\"eventImage\", file);\n            try {\n                const response = await fetch(\"/api/upload\", {\n                    method: \"POST\",\n                    body: formData\n                });\n                console.log(\"Response:\", response);\n                if (response.ok) {\n                    const result = await response.json();\n                    alert(`Image uploaded successfully! File URL: ${result.filePath}`);\n                    console.log(`Uploaded File URL: ${result.filePath}`);\n                } else {\n                    const error = await response.json();\n                    alert(`Upload failed: ${error.message}`);\n                    console.error(\"Error response:\", error);\n                }\n            } catch (error) {\n                console.error(\"Error during file upload:\", error);\n                alert(\"An error occurred while uploading the file.\");\n            }\n        });\n    }\n}\n\n\nconst $4a1fb3697f2d86ed$var$pathToRegex = (path)=>new RegExp(\"^\" + path.replace(/\\//g, \"\\\\/\").replace(/:\\w+/g, \"(.+)\") + \"$\");\nconst $4a1fb3697f2d86ed$var$getParams = (match)=>{\n    const values = match.result.slice(1);\n    const keys = Array.from(match.route.path.matchAll(/:(\\w+)/g)).map((result)=>result[1]);\n    return Object.fromEntries(keys.map((key, i)=>{\n        return [\n            key,\n            values[i]\n        ];\n    }));\n};\nconst $4a1fb3697f2d86ed$var$navigateTo = (url)=>{\n    history.pushState(null, null, url);\n    $4a1fb3697f2d86ed$var$router();\n};\n//Create the routes for the existing views\nconst $4a1fb3697f2d86ed$var$router = async ()=>{\n    const routes = [\n        {\n            path: \"/\",\n            view: (0, $383917d63580280f$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/dashboard\",\n            view: (0, $79ba522ead9215b1$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/events\",\n            view: (0, $53cdfa4a82d12117$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/event-details\",\n            view: (0, $3e4bcfd1918def4c$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/create-event\",\n            view: (0, $3b13b790ce4e5db0$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/edit-event\",\n            view: (0, $bb5c90b6d3cd8b06$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/event-attendees\",\n            view: (0, $aefb02f15e1bb123$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/schedule\",\n            view: (0, $86fb3414cf3865fc$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/attendees\",\n            view: (0, $6113fb0a69bd9255$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/attendee-details\",\n            view: (0, $8084b848fef8a039$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/communication\",\n            view: (0, $dfbd417bc094b569$export$2e2bcd8739ae039)\n        }\n    ];\n    //Test Routes\n    const potentialMatches = routes.map((route)=>{\n        return {\n            route: route,\n            result: location.pathname.match($4a1fb3697f2d86ed$var$pathToRegex(route.path))\n        };\n    });\n    let match = potentialMatches.find((potentialMatch)=>potentialMatch.result !== null);\n    //TODO: customize the not found 404 if wanted\n    if (!match) match = {\n        route: routes[0],\n        result: [\n            location.pathname\n        ]\n    };\n    const view = new match.route.view($4a1fb3697f2d86ed$var$getParams(match));\n    let appContainer = document.querySelector(\".app\");\n    if (appContainer) appContainer.innerHTML = await view.getHtml();\n    // Now that the HTML is rendered, you can bind event listeners\n    if (typeof view.manageState === \"function\") view.manageState();\n};\nwindow.addEventListener(\"popstate\", $4a1fb3697f2d86ed$var$router);\n/**\r\n * Add event listeners to all navigation link to prevent\r\n * default behaviour\r\n */ document.addEventListener(\"DOMContentLoaded\", ()=>{\n    document.body.addEventListener(\"click\", (event)=>{\n        if (event.target.matches(\"a[data-link]\")) {\n            event.preventDefault();\n            $4a1fb3697f2d86ed$var$navigateTo(event.target.href);\n        }\n    });\n    $4a1fb3697f2d86ed$var$router();\n});\n/**\r\n * set active class for all sidebar links\r\n */ document.querySelectorAll(\".nav-link\").forEach((link)=>{\n    link.addEventListener(\"click\", function() {\n        // Remove the active class from all links\n        document.querySelectorAll(\".nav-link\").forEach((nav)=>nav.classList.remove(\"active\"));\n        // Add the active class to the clicked link\n        this.classList.add(\"active\");\n    });\n});\n\n\n//# sourceMappingURL=index.46a05e0a.js.map\n","import Home from \"./components/Home.js\";\r\nimport Dashboard from \"./components/Dashboard.js\";\r\nimport Events from \"./components/Events.js\";\r\nimport Schedule from \"./components/Schedule.js\";\r\nimport Attendees from \"./components/Attendees.js\";\r\nimport Communication from \"./components/Communication.js\";\r\nimport EventDetails from \"./components/EventDetails.js\";\r\nimport AttendeeDetails from \"./components/AttendeeDetails.js\";\r\nimport EventAttendees from \"./components/EventAttendees.js\";\r\nimport CreateEvent from \"./components/CreateEvent.js\";\r\nimport EditEvent from \"./components/EditEvent.js\";\r\n\r\nconst pathToRegex = (path) =>\r\n  new RegExp(\"^\" + path.replace(/\\//g, \"\\\\/\").replace(/:\\w+/g, \"(.+)\") + \"$\");\r\n\r\nconst getParams = (match) => {\r\n  const values = match.result.slice(1);\r\n  const keys = Array.from(match.route.path.matchAll(/:(\\w+)/g)).map(\r\n    (result) => result[1]\r\n  );\r\n\r\n  return Object.fromEntries(\r\n    keys.map((key, i) => {\r\n      return [key, values[i]];\r\n    })\r\n  );\r\n};\r\n\r\nconst navigateTo = (url) => {\r\n  history.pushState(null, null, url);\r\n  router();\r\n};\r\n\r\n//Create the routes for the existing views\r\nconst router = async () => {\r\n  const routes = [\r\n    {\r\n      path: \"/\",\r\n      view: Home,\r\n    },\r\n    {\r\n      path: \"/dashboard\",\r\n      view: Dashboard,\r\n    },\r\n    {\r\n      path: \"/events\",\r\n      view: Events,\r\n    },\r\n    {\r\n      path: \"/event-details\",\r\n      view: EventDetails,\r\n    },\r\n    {\r\n      path: \"/create-event\",\r\n      view: CreateEvent,\r\n    },\r\n    {\r\n      path: \"/edit-event\",\r\n      view: EditEvent,\r\n    },\r\n    {\r\n      path: \"/event-attendees\",\r\n      view: EventAttendees,\r\n    },\r\n    {\r\n      path: \"/schedule\",\r\n      view: Schedule,\r\n    },\r\n    {\r\n      path: \"/attendees\",\r\n      view: Attendees,\r\n    },\r\n    {\r\n      path: \"/attendee-details\",\r\n      view: AttendeeDetails,\r\n    },\r\n    {\r\n      path: \"/communication\",\r\n      view: Communication,\r\n    },\r\n  ];\r\n\r\n  //Test Routes\r\n  const potentialMatches = routes.map((route) => {\r\n    return {\r\n      route: route,\r\n      result: location.pathname.match(pathToRegex(route.path)),\r\n    };\r\n  });\r\n\r\n  let match = potentialMatches.find(\r\n    (potentialMatch) => potentialMatch.result !== null\r\n  );\r\n\r\n  //TODO: customize the not found 404 if wanted\r\n  if (!match) {\r\n    match = {\r\n      route: routes[0],\r\n      result: [location.pathname],\r\n    };\r\n  }\r\n\r\n  const view = new match.route.view(getParams(match));\r\n  let appContainer = document.querySelector(\".app\");\r\n\r\n  if (appContainer) {\r\n    appContainer.innerHTML = await view.getHtml();\r\n  }\r\n\r\n  // Now that the HTML is rendered, you can bind event listeners\r\n  if (typeof view.manageState === \"function\") {\r\n    view.manageState();\r\n  }\r\n};\r\n\r\nwindow.addEventListener(\"popstate\", router);\r\n\r\n/**\r\n * Add event listeners to all navigation link to prevent\r\n * default behaviour\r\n */\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  document.body.addEventListener(\"click\", (event) => {\r\n    if (event.target.matches(\"a[data-link]\")) {\r\n      event.preventDefault();\r\n      navigateTo(event.target.href);\r\n    }\r\n  });\r\n  router();\r\n});\r\n\r\n/**\r\n * set active class for all sidebar links\r\n */\r\ndocument.querySelectorAll(\".nav-link\").forEach((link) => {\r\n  link.addEventListener(\"click\", function () {\r\n    // Remove the active class from all links\r\n    document\r\n      .querySelectorAll(\".nav-link\")\r\n      .forEach((nav) => nav.classList.remove(\"active\"));\r\n\r\n    // Add the active class to the clicked link\r\n    this.classList.add(\"active\");\r\n  });\r\n});\r\n","import AbstractView from \"./AbstractView.js\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Home\");\r\n  }\r\n  async getHtml() {\r\n    return `\r\n    <div>\r\n        <h2>Home</h2>\r\n    </div>\r\n    <section class=\"vh-75 gradient-custom\">\r\n  <div class=\"container py-0 h-100\">\r\n    <div class=\"row d-flex justify-content-center pt-3 h-100\">\r\n      <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\r\n        <div class=\"card text-white login-card\" style=\"border-radius: 1rem;\">\r\n          <div class=\"card-body py-3 px-5 text-center\">\r\n\r\n            <div class=\"mb-md-5 mt-md-4 pb-2\">\r\n\r\n              <h2 class=\"fw-bold mb-2 text-uppercase\">Login</h2>\r\n              <p class=\"text-dark mb-5\">Please enter your login and password!</p>\r\n\r\n              <div data-mdb-input-init class=\"form-outline form-white mb-4\">\r\n                <input type=\"email\" id=\"typeEmailX\" class=\"form-control form-control-lg\" placeholder=\"email\"/>\r\n              </div>\r\n\r\n              <div data-mdb-input-init class=\"form-outline form-white mb-4\">\r\n                <input placeholder=\"password\" type=\"password\" id=\"typePasswordX\" class=\"form-control form-control-lg\" />\r\n              </div>\r\n\r\n              <p class=\"small mb-3 pb-lg-2\"><a class=\"text-dark reset-password-link\" href=\"#!\">Forgot password?</a></p>\r\n\r\n              <button data-mdb-button-init data-mdb-ripple-init class=\"btn btn-outline-light btn-lg px-5\" type=\"submit\">Login</button>\r\n\r\n              <div class=\"d-flex justify-content-center text-center mt-4 pt-1\">\r\n                <a href=\"#!\" class=\"text-white\"><i class=\"fab fa-facebook-f fa-lg\"></i></a>\r\n                <a href=\"#!\" class=\"text-white\"><i class=\"fab fa-twitter fa-lg mx-4 px-2\"></i></a>\r\n                <a href=\"#!\" class=\"text-white\"><i class=\"fab fa-google fa-lg\"></i></a>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div>\r\n              <p class=\"mb-0\">Don't have an account? <a href=\"#!\" class=\"sign-up-link text-dark fw-bold\">Sign Up</a>\r\n              </p>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n    `;\r\n  }\r\n}\r\n","export default class {\r\n  constructor(params) {\r\n    this.params = params;\r\n  }\r\n  setTitle(title) {\r\n    document.title = title;\r\n  }\r\n  async getHtml() {\r\n    return \"\";\r\n  }\r\n}\r\n\r\n/* export default class {\r\n  constructor(params) {\r\n    this.params = params;\r\n  }\r\n\r\n  // Set the document title\r\n  setTitle(title) {\r\n    document.title = title;\r\n  }\r\n\r\n  // Method to pre-render HTML, child classes can override this method\r\n  async preRender() {\r\n    return \"\"; // Default implementation can be empty or some base HTML structure\r\n  }\r\n\r\n  // Main method to get HTML content\r\n  async getHtml() {\r\n    // Perform pre-render logic before returning HTML\r\n    const preRenderedHtml = this.preRender();\r\n    return preRenderedHtml;\r\n  }\r\n}\r\n */\r\n","import AbstractView from \"./AbstractView.js\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Dashboard\");\r\n  }\r\n  async getHtml() {\r\n    return `\r\n    <section class=\"py-3\">\r\n        <div class=\"container bg-white p-3 upcoming-events\">\r\n            <div class=\"border-bottom border-secondary-subttle d-flex justify-content-between pb-3\">\r\n            <h5><i class=\"bi bi-journal-bookmark\"></i> Upcoming Events</h5>\r\n                <button class=\"btn btn-dark btn-all-events\">View all Events</button>\r\n            </div>\r\n            <div class=\"table-wrapper py-4\">\r\n                <table id=\"table-upcoming-events\" class=\"table table-striped table-sm\">\r\n                    <thead class=\"\">\r\n                        <tr>\r\n                            <th class=\"ps-3\">EVENT</th>\r\n                            <th>STATUS</th>\r\n                            <th>DATE</th>\r\n                            <th>REGISTRATIONS</th>                            \r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td class=\"ps-3\">Tech Talent Meetup</td>\r\n                            <td>Live</td>\r\n                            <td>Thursday, 24-Sep-2024</td>\r\n                            <td>9/25</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class=\"px-3\">Tech Talent Meetup</td>\r\n                            <td>Live</td>\r\n                            <td>Thursday, 24-Sep-2024</td>\r\n                            <td>9/25</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class=\"px-3\">Tech Talent Meetup</td>\r\n                            <td>Live</td>\r\n                            <td>Thursday, 24-Sep-2024</td>\r\n                            <td>9/25</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section class=\"py-3\">\r\n        <div class=\"container bg-white p-3 upcoming-events\">\r\n            <div class=\"border-bottom border-secondary-subttle d-flex justify-content-between pb-3\">\r\n                <h5><i class=\"bi bi-bookmarks\"></i> Recent Registrations</h5>\r\n            </div>\r\n            <div class=\"table-wrapper py-4\">\r\n                <table id=\"recent-registrations\" class=\"table table-striped table-sm\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th class=\"px-3\">NAME</th>\r\n                            <th>REGISTERED ON</th>\r\n                            <th>STATUS</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td class=\"px-3\">Manuel Alva</td>\r\n                            <td>08/09/1977</td>\r\n                            <td>Confirmed</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class=\"px-3\">Manuel Alva</td>\r\n                            <td>08/09/1977</td>\r\n                            <td>Pending</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class=\"px-3\">Manuel Alva</td>\r\n                            <td>08/09/1977</td>\r\n                            <td>Cancelled</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    `;\r\n  }\r\n}\r\n","import AbstractView from \"./AbstractView.js\";\r\nimport { getData } from \"../utils/api-utility.js\";\r\nimport eventCard from \"../templates/EventCard.js\";\r\n\r\nconst EVENTS_END_POINT = \"/api/events\";\r\nconst SCHEDULE_END_POINT = \"/api/eventsSchedule\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Events\");\r\n    this.eventsList = [];\r\n    this.scheduleList = [];\r\n  }\r\n\r\n  async getHtml() {\r\n    this.eventsList = await this.fetchEvents();\r\n    this.scheduleList = await this.fetchSchedule();\r\n\r\n    const rows = this.eventsList.map((event) => {\r\n      let matchingEvent = this.scheduleList.find(\r\n        (match) => match.eventId === event._id\r\n      );\r\n\r\n      // Check if any event has been scheduled\r\n      const date = matchingEvent ? new Date(matchingEvent.startDate) : null;\r\n      const formattedDate = date\r\n        ? date.toLocaleDateString(\"en-US\", {\r\n            year: \"numeric\",\r\n            month: \"numeric\",\r\n            day: \"2-digit\",\r\n          })\r\n        : \"No date available\";\r\n\r\n      return eventCard(event, formattedDate); // Pass formattedDate to eventCard\r\n    });\r\n\r\n    return `\r\n    <section>\r\n      <div class=\"container bg-white p-3 events-list\">\r\n        <div class=\"border-bottom border-secondary-subttle pb-3 d-flex align-items-center gap-5\">\r\n          <h5><i class=\"bi bi-calendar2-event\"></i> Events</h5>\r\n          <a href=\"/create-event\" class=\"btn btn-primary\" data-link><i class=\"bi bi-plus-circle-fill\"></i> New Event</a>\r\n        </div>\r\n        <div class=\"cards-wrapper py-4\">\r\n        ${rows}\r\n        </div>       \r\n      </div>\r\n    </section>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * fetch the events from the server\r\n   * @returns events array\r\n   */\r\n  async fetchEvents() {\r\n    try {\r\n      const events = await getData(EVENTS_END_POINT);\r\n      //console.table(events);\r\n      return events;\r\n    } catch (error) {\r\n      console.error(\"Error fetching events:\", error);\r\n    }\r\n  }\r\n  /**\r\n   * fetch the schedule from the server\r\n   * @returns schedule array\r\n   */\r\n  async fetchSchedule() {\r\n    try {\r\n      const schedule = await getData(SCHEDULE_END_POINT);\r\n      //console.table(schedule);\r\n      return schedule;\r\n    } catch (error) {\r\n      console.error(\"Error fetching schedule:\", error);\r\n    }\r\n  }\r\n}\r\n","const BASE_URL = \"http://localhost:1000\";\r\n\r\n//GET request\r\nexport async function getData(endpoint) {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}${endpoint}`);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Data not found\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const saveData = async (endpoint, object) => {\r\n  const response = await fetch(`${BASE_URL}${endpoint}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(object),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(\"Failed to save data\");\r\n  } else {\r\n    const data = await response.json();\r\n    return data;\r\n  }\r\n};\r\n\r\nexport async function updateData(endpoint, id, updatedData) {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}${endpoint}/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(updatedData),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Failed to update data: ${response.statusText}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\"Error updating data:\", error);\r\n    throw error;\r\n  }\r\n}\r\n","const eventCard = (event, date) => {\r\n  //Shorten the description to use as an intro\r\n  const maxLenght = 180;\r\n  const intro =\r\n    event.description.length > maxLenght\r\n      ? event.description.slice(0, maxLenght) + \"...\"\r\n      : event.description;\r\n\r\n  return `\r\n<div class=\"event-card row w-75 m-auto py-3 my-3\">\r\n    <div class=\"col-4\">\r\n        <div class=\"event-image px-2\">\r\n            <img src=\"${event.img_url}\" alt=\"event-image\"></img>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-8\">\r\n        <div class=\"event-content\">\r\n            <h4 class=\"pb-3 fw-bold\">${event.name}</h4>\r\n            <p>${intro}</p>\r\n            <div class=\"pt-3 d-flex justify-content-between align-items-center\">\r\n                <div class=\"fs-5\">\r\n                    <i class=\"bi bi-calendar-date\"></i>\r\n                    <span>${date}</span>\r\n                </div>\r\n                <div>\r\n                    <a href=\"\" class=\"category-box\">${event.category}</a>\r\n                </div>  \r\n                <div>\r\n                    <a href=\"/event-details?id=${event._id}\"  data-link class=\"btn btn-primary\" >Details <i class=\"bi bi-arrow-right-circle-fill\"></i></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>   \r\n</div>\r\n`;\r\n};\r\n\r\nexport default eventCard;\r\n","import AbstractView from \"./AbstractView.js\";\r\nimport { getData, saveData } from \"../utils/api-utility.js\";\r\nimport eventScheduleCard from \"../templates/EventScheduleCard.js\";\r\n\r\nconst EVENTS_END_POINT = \"/api/events\";\r\nconst SCHEDULE_END_POINT = \"/api/eventsSchedule\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Schedule\");\r\n    this.daysOfWeek = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    this.currentDate = new Date(Date.now());\r\n    this.month = this.currentDate.getMonth();\r\n    this.year = this.currentDate.getFullYear();\r\n  }\r\n\r\n  async getHtml() {\r\n    this.eventsList = await this.fetchEvents();\r\n    this.scheduleList = await this.fetchSchedule();\r\n\r\n    const formattedDate = this.currentDate.toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      timeZone: \"UTC\",\r\n    });\r\n    const dayOfTheWeek = this.currentDate.toLocaleDateString(\"en-US\", {\r\n      weekday: \"long\",\r\n    });\r\n    const dayOfTheMonth = this.currentDate.getDate();\r\n\r\n    //find the ordinal suffix for the day opf the mont(\"st\", \"nd\", \"rd\", or \"th\")\r\n    const getOrdinalSuffix = (day) => {\r\n      if (day > 3 && day < 21) return \"th\";\r\n\r\n      switch (day % 10) {\r\n        case 1:\r\n          return \"st\";\r\n        case 2:\r\n          return \"nd\";\r\n        case 3:\r\n          return \"rd\";\r\n        default:\r\n          return \"th\";\r\n      }\r\n    };\r\n\r\n    //get the current month week rows array\r\n    this.calendarWeeks = this.createCalendar();\r\n\r\n    //Manage post-rendering\r\n    this.manageState();\r\n\r\n    this.rows = [];\r\n\r\n    //get the upcoming events\r\n    const rows = this.scheduleList\r\n      .map((schedule) => {\r\n        const today = new Date(Date.now()); //get current date\r\n        const eventDate = new Date(schedule.startDate);\r\n\r\n        const matchingEvent = this.eventsList.find(\r\n          (event) => event._id === schedule.eventId && eventDate > today\r\n        );\r\n\r\n        return matchingEvent\r\n          ? eventScheduleCard(schedule, matchingEvent)\r\n          : null;\r\n      })\r\n      .join(\"\");\r\n\r\n    return `\r\n    <section class=\"py-3 calendar-section\">\r\n    <div class=\"border-bottom border-secondary-subttle\">\r\n          <h5><i class=\"bi bi-person-check\"></i> Schedule/Agenda</h5>\r\n        </div>\r\n      <div class=\"row calendar-row\">\r\n      <div class=\"col-7 bg-white p-3\">        \r\n        <div class=\"calendar-container py-5\">\r\n          <div class=\"calendar-wrapper\">\r\n            <div class=\"container\">\r\n              <div class=\"calendar\">\r\n                <div class=\"front\">\r\n                  <div class=\"current-date text-center\">                    \r\n                    <h1 class=\"fw-bold\">${formattedDate}</h1>\r\n                  </div>\r\n\r\n                  <div class=\"current-month\">\r\n                    <ul class=\"weeks px-3\">\r\n                      ${this.daysOfWeek\r\n                        .map(\r\n                          (day) => `\r\n                      <li>${day}</li>\r\n                      `\r\n                        )\r\n                        .join(\"\")}\r\n                    </ul>\r\n\r\n                    <div id=\"calendar\">\r\n                      ${this.calendarWeeks\r\n                        .map(\r\n                          (week) => `\r\n                      <ul class=\"weeks d-flex px-3\">\r\n                        ${week\r\n                          .map(\r\n                            (day) => `\r\n                        <li class=\"day\">\r\n                          <button class=\"btn-weekday\" data-date=\"${this.year}-${\r\n                              this.month + 1\r\n                            }-${day}\">${day || \"\"}</button>\r\n                            <span data-date=\"${this.year}-${\r\n                              this.month + 1\r\n                            }-${day}\" class=\"event\" style=\"display: none;\"></span>\r\n                          \r\n                        </li>\r\n                        `\r\n                          )\r\n                          .join(\"\")}\r\n                      </ul>\r\n                      `\r\n                        )\r\n                        .join(\"\")}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"back\">\r\n                  <select name=\"events\" id=\"events\">\r\n                      <option value\"0\" selected>\"What's the event?\"</option>\r\n                      ${this.eventsList.map(\r\n                        (event) => `\r\n                        <option value=\"${event._id}\">${event.name}</option>\r\n                        `\r\n                      )}\r\n                  </select>\r\n                  <div class=\"info py-4\">\r\n                    <div class=\"date row w-100 m-auto\">                     \r\n                      <div class=\"col-4 p-0 d-flex gap-2\">\r\n                        <p>Date:</p>\r\n                        <span class=\"info-date\"></span>\r\n                      </div>\r\n\r\n                      <div class=\"col-8\">\r\n                        <div class=\"form-group d-flex gap-2\">\r\n                          <label for=\"time\">Time: </label>\r\n                          <div class=\"input-group date\" id=\"timePicker\">\r\n                            <input type=\"text\" class=\"form-control timePicker\">\r\n                            <span class=\"input-group-addon border px-2\"><i class=\"bi bi-clock\"></i></span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                    </div>\r\n                    <div class=\"address\">\r\n                      <p>Address: <span class=\"info-address\"></span></p>\r\n                    </div>\r\n                    <div class=\"observations\">\r\n                      <p>\r\n                        Observations: <span>Please arrive 10-15 minutes earlier</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"actions\">\r\n                    <button class=\"save\">\r\n                      Save <i class=\"bi bi-check-circle-fill\"></i>\r\n                    </button>\r\n                    <button class=\"dismiss\">\r\n                      Dismiss <i class=\"bi bi-x-circle-fill\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"feedback-container py-4 container border border-danger text-center\" style=\"display: none\">\r\n        <span class=\"feedback\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-5 py-3\">\r\n        <div>\r\n          <div class=\"pt-5 pb-2 border-bottom d-flex justify-content-between align-items-center\">\r\n            <p class=\"m-0\">Events for today</p>\r\n            <h3 class=\"fw-bold m-0\">\r\n            ${dayOfTheWeek} ${dayOfTheMonth}${getOrdinalSuffix(dayOfTheMonth)}\r\n            </h3>\r\n          </div>\r\n          <div class=\"no-event py-3 ps-3 mt-3\">\r\n            <p>No events in schedule for today</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"py-3\">\r\n          <div class=\"py-3 border-bottom\">\r\n             <h2 class=\"fw-bold\">Upcoming Events</h2>\r\n          </div>\r\n          <div class=\"scroll-wrapper\">\r\n            <div class=\"py-2 event-schedule-container\">\r\n            ${rows}\r\n            </div>\r\n          </div>\r\n        </div>            \r\n      </div>      \r\n      </div>\r\n    </section>  \r\n   `;\r\n  }\r\n\r\n  /**\r\n   * function to handle the post-rendering logic\r\n   */\r\n  manageState() {\r\n    //initialize calendar components adn logic on flip\r\n    this.initializeCalendar();\r\n\r\n    //Add event listener to teh select after flipping the calendar\r\n    const eventSelect = document.getElementById(\"events\");\r\n    if (eventSelect) {\r\n      eventSelect.addEventListener(\"change\", () => this.populateEventDetails());\r\n    }\r\n\r\n    //get the itimepicker\r\n    this.createTimePicker();\r\n\r\n    this.markSchedule();\r\n  }\r\n\r\n  /**\r\n   * Initialize the calendar component to accesss the form\r\n   * to add events to the schedule\r\n   */\r\n  initializeCalendar() {\r\n    //Calendar effects based on https://codepen.io/gabrielcolombo\r\n    const app = {\r\n      settings: {\r\n        container: document.querySelector(\".calendar\"),\r\n        calendar: document.querySelector(\".front\"),\r\n        days: document.querySelectorAll(\".weeks button\"),\r\n        event: document.querySelector(\".event\"),\r\n        form: document.querySelector(\".back\"),\r\n        select: document.querySelector(\".back select\"),\r\n        dismiss: document.querySelector(\".dismiss\"),\r\n        save: document.querySelector(\".save\"),\r\n        address: document.querySelector(\".info-address\"),\r\n        date: document.querySelector(\".info-date\"),\r\n        time: document.querySelector(\".timePicker\"),\r\n        observations: document.querySelector(\".observations span\"),\r\n      },\r\n\r\n      /**\r\n       * Initialize app (set up event listeners).\r\n       */\r\n      init() {\r\n        this.bindUIActions();\r\n      },\r\n\r\n      /**\r\n       * Flip between the front and back of the calendar\r\n       * @param {*} currentSide\r\n       * @param {*} desiredSide\r\n       */\r\n      swap(currentSide, desiredSide) {\r\n        this.settings.container.classList.toggle(\"flip\");\r\n\r\n        // Reset select input value\r\n        if (desiredSide === this.settings.calendar) {\r\n          this.settings.select.selectedIndex = 0; // Set events default value\r\n          this.settings.address.textContent = \"\";\r\n        }\r\n\r\n        currentSide.style.display = \"none\"; // Hide the current side\r\n        desiredSide.style.display = \"block\"; // Show the desired side\r\n      },\r\n\r\n      /**\r\n       * Add event listeners to interactive elements\r\n       */\r\n      bindUIActions() {\r\n        this.settings.days.forEach((day) => {\r\n          day.addEventListener(\"click\", (event) => {\r\n            const selectedDate = event.currentTarget.getAttribute(\"data-date\");\r\n            this.swap(this.settings.calendar, this.settings.form);\r\n            const dateElement = document.querySelector(\".info-date\");\r\n            if (dateElement) {\r\n              dateElement.textContent = selectedDate;\r\n            }\r\n            this.settings.select.focus();\r\n          });\r\n        });\r\n\r\n        if (this.settings.dismiss) {\r\n          this.settings.dismiss.addEventListener(\"click\", () => {\r\n            const feedbackElement = document.querySelector(\".feedback\");\r\n            const feedbackContainer = document.querySelector(\r\n              \".feedback-container\"\r\n            );\r\n\r\n            feedbackElement.textContent = \"\";\r\n            feedbackContainer.style.display = \"none\";\r\n            this.settings.time.value = \"\";\r\n            this.swap(this.settings.form, this.settings.calendar);\r\n          });\r\n        }\r\n\r\n        //create a schedule object\r\n        if (this.settings.save) {\r\n          this.settings.save.addEventListener(\"click\", (event) => {\r\n            event.preventDefault();\r\n\r\n            if (!this.validateFields()) {\r\n              return;\r\n            } else {\r\n              this.scheduleEvent();\r\n            }\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Create schedule object\r\n       */\r\n      scheduleEvent() {\r\n        let newSchedule = \"\";\r\n\r\n        const eventId = this.settings.select.value;\r\n        const eventDate = this.settings.date.textContent;\r\n        const eventTime = this.settings.time.value;\r\n        const eventObservations = this.settings.observations.textContent;\r\n\r\n        newSchedule = {\r\n          eventId: eventId,\r\n          startDate: eventDate,\r\n          startTime: eventTime,\r\n          observations: eventObservations,\r\n        };\r\n        this.saveScheduleData(SCHEDULE_END_POINT, newSchedule);\r\n        alert(\"Event added to the schedule\");\r\n        this.swap(this.settings.form, this.settings.calendar);\r\n      },\r\n\r\n      /**\r\n       * Save the new scheduled event\r\n       * @param {*} newSchedule\r\n       * @param {*} endpoint\r\n       */\r\n      async saveScheduleData(endpoint, newSchedule) {\r\n        try {\r\n          await saveData(endpoint, newSchedule);\r\n        } catch (error) {\r\n          console.error(\"Error saving the schedule:\", error);\r\n        }\r\n      },\r\n\r\n      //TODO: revise validation, is notstoping the flow if it has errors\r\n\r\n      validateFields() {\r\n        const feedbackElement = document.querySelector(\".feedback\");\r\n        const feedbackContainer = document.querySelector(\".feedback-container\");\r\n\r\n        const currentDate = new Date();\r\n        currentDate.setHours(0, 0, 0, 0); // Set to midnight for comparison\r\n\r\n        const selectedDate = new Date(this.settings.date?.textContent);\r\n        selectedDate.setHours(0, 0, 0, 0); // Set selected date to midnight as well\r\n\r\n        if (selectedDate < currentDate) {\r\n          console.log(\"Invalid date: Date cannot be before today.\");\r\n          feedbackContainer.style.display = \"block\";\r\n          feedbackElement.textContent =\r\n            \"Invalid date: Date cannot be before today.\";\r\n\r\n          return false;\r\n        }\r\n        if (this.settings.select?.selectedIndex === 0) {\r\n          console.log(\"Please select an event from the list\");\r\n          feedbackContainer.style.display = \"block\";\r\n          feedbackElement.textContent = \"Please select an event from the list.\";\r\n          return false;\r\n        }\r\n        if (!this.settings.address?.textContent) {\r\n          console.log(\"Address cannot be null, please select an event\");\r\n          feedbackContainer.style.display = \"block\";\r\n          feedbackElement.textContent =\r\n            \"Address cannot be null, please select an event.\";\r\n          return false;\r\n        }\r\n        if (!this.settings.time?.value) {\r\n          console.log(\"Please select a time for the event\");\r\n          feedbackContainer.style.display = \"block\";\r\n          feedbackElement.textContent = \"Please select a time for the event.\";\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      },\r\n    };\r\n\r\n    /**\r\n     * Initialize the app object\r\n     */\r\n    app.init();\r\n  }\r\n\r\n  /**\r\n   * fetch the events from the server\r\n   * @returns events array\r\n   */\r\n  async fetchEvents() {\r\n    try {\r\n      const events = await getData(EVENTS_END_POINT);\r\n      //console.table(events);\r\n      return events;\r\n    } catch (error) {\r\n      console.error(\"Error fetching events:\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * fetch the schedule from the server\r\n   * @returns schedule array\r\n   */\r\n  async fetchSchedule() {\r\n    try {\r\n      const schedule = await getData(SCHEDULE_END_POINT);\r\n      //console.table(schedule);\r\n      return schedule;\r\n    } catch (error) {\r\n      console.error(\"Error fetching schedule:\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a multidimensional array representing on each row a week of the month\r\n   * @returns multi-dimensional Array containing the values (days)\r\n   * from current monthof the year\r\n   */\r\n  createCalendar() {\r\n    const today = new Date();\r\n    const currentYear = today.getFullYear();\r\n    const currentMonth = today.getMonth();\r\n\r\n    // Get the total number of days in the current month\r\n    const totalDaysInMonth = new Date(\r\n      currentYear,\r\n      currentMonth + 1,\r\n      0\r\n    ).getDate();\r\n\r\n    // Array to contain the week rows\r\n    const calendarArray = [];\r\n\r\n    // Find the first day of the month and its corresponding weekday\r\n    const firstDayOfMonth = new Date(currentYear, currentMonth, 1);\r\n    const startDay = firstDayOfMonth.getDay(); // 0 (Sun) to 6 (Sat)\r\n\r\n    //array to contain days for the current week\r\n    let weekArray = new Array(7).fill(null); // Initialize with null for 7 days\r\n\r\n    for (let day = 1; day <= totalDaysInMonth; day++) {\r\n      const currentDate = new Date(currentYear, currentMonth, day);\r\n      const currentDayOfWeek = currentDate.getDay();\r\n\r\n      // Place the day in the correct position in the week\r\n      weekArray[currentDayOfWeek] = day;\r\n\r\n      // If it's the last day of the week (Saturday) or the last day of the month\r\n      if (currentDayOfWeek === 6 || day === totalDaysInMonth) {\r\n        calendarArray.push(weekArray);\r\n        weekArray = new Array(7).fill(null);\r\n      }\r\n    }\r\n    return calendarArray;\r\n  }\r\n\r\n  /**\r\n   * populate the event details in the correspopnding elements of\r\n   * the form\r\n   */\r\n  populateEventDetails() {\r\n    const selectElement = document.getElementById(\"events\");\r\n    const selectedValue = selectElement.value;\r\n\r\n    // Get the details of the selected event\r\n    const selectedEvent = this.eventsList.find(\r\n      (event) => event._id === selectedValue\r\n    );\r\n\r\n    // Update the info section if an event is selected\r\n    if (selectedEvent) {\r\n      const addressElement = document.querySelector(\".info-address\");\r\n      let eventLocation = selectedEvent.location;\r\n\r\n      if (addressElement) {\r\n        addressElement.textContent = eventLocation;\r\n\r\n        console.log(\"address?\", addressElement.textContent);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a TimePicker using an instance of flatpickr from\r\n   * https://flatpickr.js.org/\r\n   */\r\n  createTimePicker() {\r\n    const timeSelector = document.querySelector(\".timePicker\");\r\n    const clockIcon = document.querySelector(\"#timePicker .input-group-addon\");\r\n\r\n    if (timeSelector) {\r\n      flatpickr(timeSelector, {\r\n        enableTime: true,\r\n        noCalendar: true,\r\n        dateFormat: \"h:i:K\",\r\n      });\r\n    }\r\n    // show the timepicker when clicking the clock icon\r\n    if (clockIcon) {\r\n      clockIcon.addEventListener(\"click\", () => {\r\n        timeSelector.focus();\r\n      });\r\n    }\r\n  }\r\n\r\n  renderUpcomingEvents() {\r\n    scheduleList.forEach((schedule) => {\r\n      const scheduleList = this.eventsList.find(\r\n        (event) => event._id === schedule._id\r\n      );\r\n\r\n      const rows = scheduleList.map((item) => eventScheduleCard(item)).join(\"\");\r\n\r\n      return rows;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Mark teh dates that have events on them already for reference\r\n   */\r\n  markSchedule() {\r\n    const eventElements = document.querySelectorAll(\".event\");\r\n    let datesToCompare = [];\r\n\r\n    this.scheduleList.forEach((schedule) => {\r\n      const date = new Date(schedule.startDate);\r\n\r\n      if (!isNaN(date.getTime())) {\r\n        datesToCompare.push(date);\r\n      }\r\n    });\r\n\r\n    eventElements.forEach((event) => {\r\n      const eventDate = new Date(event.getAttribute(\"data-date\")); // Get date from event element\r\n\r\n      if (!isNaN(eventDate.getTime())) {\r\n        const dateToMark = datesToCompare.some(\r\n          (date) => date.getTime() === eventDate.getTime()\r\n        );\r\n\r\n        //Mark the date if any matches\r\n        if (dateToMark) {\r\n          event.style.display = \"inline\";\r\n        }\r\n      } else {\r\n        console.warn(\r\n          `Invalid date for event: ${event.getAttribute(\"data-date\")}`\r\n        );\r\n      }\r\n    });\r\n  }\r\n}\r\n","const eventScheduleCard = (schedule, event) => {\r\n  const date = new Date(schedule.startDate);\r\n\r\n  const formattedDate = date.toLocaleDateString(\"en-US\", {\r\n    year: \"numeric\",\r\n    month: \"numeric\",\r\n    day: \"2-digit\",\r\n    timeZone: \"UTC\",\r\n  });\r\n\r\n  return `     \r\n          <div class=\"w-100 mt-3\">\r\n            <div class=\"card event-schedule-card\">\r\n              <div class=\"card-image-container\">\r\n                <img src=\"${event.img_url} alt=\"product image\" class=\"img-fluid\" />\r\n                <a href=\"\" class=\"category-box\">${event.category}</a>\r\n              </div>\r\n              <div class=\"card-description pb-2\">\r\n                <div class=\"text-center pt-2 description-container\">\r\n                  <p><strong>${event.name}</strong></p>\r\n                </div>\r\n                <div class=\"row px-3 m-auto\">\r\n                  <div class=\"col-6 py-2 text-center\">\r\n                    <i class=\"bi bi-calendar-date\"></i>\r\n                    <span>${formattedDate}</span>\r\n                  </div>\r\n                  <div class=\"col-6 text-center\">\r\n                    <a\r\n                      href=\"/event-details?id=${event._id}\"\r\n                      data-link\r\n                      class=\"btn btn-primary\"\r\n                      >Details <i class=\"bi bi-arrow-right-circle-fill\"></i\r\n                    ></a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n`;\r\n};\r\n\r\nexport default eventScheduleCard;\r\n","import AbstractView from \"./AbstractView.js\";\r\nimport { getData } from \"../utils/api-utility.js\";\r\n\r\nconst ATTENDEES_END_POINT = \"/api/attendees\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Attendees\");\r\n    this.attendeesList = [];\r\n  }\r\n\r\n  async getHtml() {\r\n    this.attendeesList = await this.fetchAttendees();\r\n\r\n    return `\r\n     <section class=\"py-3\">\r\n      <div class=\"container bg-white p-3\">\r\n        <div class=\"border-bottom border-secondary-subttle\">\r\n          <h5><i class=\"bi bi-person-check\"></i> Attendees</h5>\r\n        </div>\r\n        <div class=\"table-wrapper pb-4 px-4\">\r\n          <table id=\"attendees\" class=\"table table-striped table-sm\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>NAME</th>\r\n                <th>CITY</th>\r\n                <th>EMAIL</th>\r\n                <th>PHONE</th>\r\n                <th>ACTIONS</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n            ${this.attendeesList\r\n              .map(\r\n                (attendee) => `\r\n              <tr>\r\n                <td>\r\n                  <img class=\"attendee-avatar\" src=\"${attendee.avatar}\" alt=\"attendee-photo\"/>\r\n                </td>\r\n                <td class=\"align-middle\">${attendee.name}</td>\r\n                <td class=\"align-middle\">${attendee.city}</td>\r\n                <td class=\"align-middle\">${attendee.email}</td>\r\n                <td class=\"align-middle\">${attendee.phone}</td>\r\n                <td class=\"px-0 align-middle\">\r\n                    <div>\r\n                      <a href=\"/attendee-details?id=${attendee._id}\"  data-link class=\"btn btn-primary\" >Details <i class=\"bi bi-arrow-right\"></i></a>\r\n                    </div>\r\n                </td>\r\n              </tr> \r\n              `\r\n              )\r\n              .join(\"\")}                \r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </section> \r\n    `;\r\n  }\r\n\r\n  /**\r\n   * fetch the attendees from the server\r\n   * @returns attendees array\r\n   */\r\n  async fetchAttendees() {\r\n    try {\r\n      const attendees = await getData(ATTENDEES_END_POINT);\r\n      //console.table(attendees);\r\n      return attendees;\r\n    } catch (error) {\r\n      console.error(\"Error fetching attendees:\", error);\r\n    }\r\n  }\r\n}\r\n","import AbstractView from \"./AbstractView.js\";\r\nimport communicationsEmailingForm from \"../templates/MailingForm.js\";\r\nimport { getData } from \"../utils/api-utility.js\";\r\n\r\nconst ATTENDEES_END_POINT = \"/api/attendees\";\r\nconst ORGANIZERS_END_POINT = \"/api/organizers\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Communication\");\r\n    this.attendeesList = [];\r\n    this.eventsList = [];\r\n    this.organizersList = [];\r\n  }\r\n\r\n  async getHtml() {\r\n    this.attendeesList = await this.fetchAttendees();\r\n    this.organizersList = await this.fetchOrganizers();\r\n\r\n    //TODO: fix the logic to display theemail after clicking the contact buttons\r\n\r\n    return this.manageState();\r\n  }\r\n\r\n  renderHTML() {\r\n    const formHTML = communicationsEmailingForm(\r\n      this.attendeesList,\r\n      this.organizersList\r\n    );\r\n    const appContainer = document.querySelector(\".app\");\r\n\r\n    if (appContainer) {\r\n      appContainer.innerHTML = `\r\n        <section>\r\n          <div class=\"container p3\">\r\n            <h5>Communication</h5>\r\n            <button onclick=\"window.history.back()\" data-link class=\"btn btn-outline-primary btn-back\">\r\n              <i class=\"bi bi-arrow-left-circle-fill\"></i> Go Back\r\n            </button>\r\n            <div class=\"form-container\">\r\n              ${formHTML}\r\n            </div>\r\n          </div>\r\n        </section>\r\n      `;\r\n    } else {\r\n      console.error(\"The .app container does not exist.\");\r\n    }\r\n  }\r\n\r\n  manageState() {\r\n    this.renderHTML(); // Render the HTML with the form\r\n\r\n    // Add event listeners or any additional setup\r\n    this.handleContactButtons();\r\n\r\n    this.handleEmailForm();\r\n  }\r\n\r\n  handleContactButtons() {\r\n    const contactButtons = document.querySelectorAll(\".btn-contact\");\r\n\r\n    if (contactButtons.length > 0) {\r\n      contactButtons.forEach((button) => {\r\n        button.addEventListener(\"click\", (event) => {\r\n          event.preventDefault();\r\n          const email = button.getAttribute(\"data-email\");\r\n          if (email) {\r\n            this.insertEmail(email);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  insertEmail(email) {\r\n    const mainEmailInput = document.getElementById(\"to\");\r\n    const ccEmailInput = document.getElementById(\"cc\");\r\n    const bccEmailInput = document.getElementById(\"bcc\");\r\n    if (mainEmailInput) {\r\n      mainEmailInput.value = email;\r\n    } else {\r\n      console.error(\"Email input field not found.\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * fetch the attendees from the server\r\n   * @returns attendees array\r\n   */\r\n  async fetchAttendees() {\r\n    try {\r\n      const attendees = await getData(ATTENDEES_END_POINT);\r\n      //console.table(attendees);\r\n      return attendees;\r\n    } catch (error) {\r\n      console.error(\"Error fetching attendees:\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * fetch the organizers from the server\r\n   * @returns organizers array\r\n   */\r\n  async fetchOrganizers() {\r\n    try {\r\n      const organizers = await getData(ORGANIZERS_END_POINT);\r\n      //console.table(organizers);\r\n      return organizers;\r\n    } catch (error) {\r\n      console.error(\"Error fetching organizers:\", error);\r\n    }\r\n  }\r\n\r\n  /* Collect data and send it to the server via AJAX */\r\n  handleEmailForm() {\r\n    document.querySelector(\"form\").addEventListener(\"submit\", async (event) => {\r\n      event.preventDefault();\r\n\r\n      //get the data from teh form\r\n      const emailData = {\r\n        to: document.getElementById(\"to\").value,\r\n        cc: document.getElementById(\"cc\").value,\r\n        bcc: document.getElementById(\"bcc\").value,\r\n        subject: document.getElementById(\"subject\").value,\r\n        message: document.getElementById(\"message\").value,\r\n      };\r\n\r\n      try {\r\n        const response = await fetch(\"/send-email\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(emailData),\r\n        });\r\n\r\n        if (response.ok) {\r\n          alert(\"Message sent succesfully!\");\r\n          this.resetForms();\r\n        } else {\r\n          alert(\"Failed to send message\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error:\", error);\r\n        alert(\"Error sending email.\");\r\n      }\r\n    });\r\n  }\r\n\r\n  resetForms() {\r\n    //clear inputs\r\n    document.querySelectorAll(\".message-form input\").forEach((input) => {\r\n      input.value = \"\";\r\n    });\r\n    document.getElementById(\"message\").value = \"\";\r\n  }\r\n}\r\n","const communicationsEmailingForm = (attendees, organizers) => `\r\n  <div class=\"row w-100 m-auto\">\r\n        <div class=\"col-md-3 py-4 contacts-pannel\">\r\n            <div class=\"contacts-pannel-header py-3\">\r\n                <h5 class=\"text-center fw-bold\">Attendees</h5>\r\n            </div>\r\n            <div class=\"panel panel-default bg-white px-3 py-4\">\r\n\t\t\t<div class=\"panel-body contacts\"> \r\n\t\t\t\t<ul>\r\n                    ${attendees\r\n                      .map(\r\n                        (attendee) => `\r\n                        <li>\r\n                            <button data-email=\"${attendee.email}\" class=\"btn btn-contact text-start\">${attendee.name}</button>\r\n                        </li>                       \r\n                        `\r\n                      )\r\n                      .join(\"\")}\t\t\t\t\t\r\n\t\t\t\t</ul>  \r\n\t\t\t</div>\t\t\r\n\t\t</div>\t\t\t\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n          <div class=\"container w-100 py-4\">\r\n                <div class=\"border-bottom border-secondary-subttle\">\r\n                    <h5 class=\"text-center\">Create New Message</h5>\r\n                </div>\r\n                <form class=\"message-form\">\r\n                    <div class=\"form-row mb-3\">\r\n                        <label for=\"to\" class=\"col-2 col-sm-1 col-form-label fw-bold\">To:</label>\r\n                        <div class=\"col-10 col-sm-11\">\r\n                            <input type=\"email\" class=\"form-control\" id=\"to\" placeholder=\"email(s)\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-row mb-3\">\r\n                        <label for=\"cc\" class=\"col-2 col-sm-1 col-form-label fw-bold\">CC:</label>\r\n                        <div class=\"col-10 col-sm-11\">\r\n                            <input type=\"email\" class=\"form-control\" id=\"cc\" placeholder=\"email(s)\">\r\n                            <div\r\n                                id=\"invalid-email\"\r\n                                class=\"invalid-feedback text-dark\"\r\n                            >\r\n                                <i class=\"bi bi-exclamation-triangle\"></i>\r\n                                <span id=\"message\">Invalid Email</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-row mb-3\">\r\n                        <label for=\"bcc\" class=\"col-2 col-sm-1 col-form-label fw-bold\">BCC:</label>\r\n                        <div class=\"col-10 col-sm-11\">\r\n                            <input type=\"email\" class=\"form-control\" id=\"bcc\" placeholder=\"email(s)\">\r\n                        </div>\r\n                    </div>\r\n                     <div class=\"form-row mb-3\">\r\n                        <label for=\"subject\" class=\"col-2 col-sm-1 col-form-label fw-bold\">Subject:</label>\r\n                        <div class=\"col-10 col-sm-11\">\r\n                            <input type=\"text\" class=\"form-control\" id=\"subject\">\r\n                        </div>\r\n                    </div>\r\n                \r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-11 ml-auto\">\r\n                        <div class=\"toolbar\" role=\"toolbar\">\r\n                            <div class=\"btn-group\">\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-bold\"></span>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-italic\"></span>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-underline\"></span>\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"btn-group\">\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-align-left\"></span>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-align-right\"></span>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-align-center\"></span>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-align-justify\"></span>\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"btn-group\">\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-indent\"></span>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-outdent\"></span>\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"btn-group\">\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-list-ul\"></span>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-light\">\r\n                                    <span class=\"fa fa-list-ol\"></span>\r\n                                </button>\r\n                            </div>\r\n                            <button type=\"button\" class=\"btn btn-light\">\r\n                                <span class=\"fa fa-trash-o\"></span>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-light\">\r\n                                <span class=\"fa fa-paperclip\"></span>\r\n                            </button>\r\n                            <div class=\"btn-group\">\r\n                                <button type=\"button\" class=\"btn btn-light dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                    <span class=\"fa fa-tags\"></span>\r\n                                    <span class=\"caret\"></span>\r\n                                </button>\r\n                                <div class=\"dropdown-menu\">\r\n                                    <a class=\"dropdown-item\" href=\"#\">add label <span class=\"badge badge-danger\"> Home</span></a>\r\n                                    <a class=\"dropdown-item\" href=\"#\">add label <span class=\"badge badge-info\"> Job</span></a>\r\n                                    <a class=\"dropdown-item\" href=\"#\">add label <span class=\"badge badge-success\"> Clients</span></a>\r\n                                    <a class=\"dropdown-item\" href=\"#\">add label <span class=\"badge badge-warning\"> News</span></a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group mt-4\">\r\n                            <textarea class=\"form-control\" id=\"message\" name=\"body\" rows=\"12\" placeholder=\"Message\"></textarea>\r\n                        </div>\r\n                        <div class=\"form-group pt-3 d-flex justify-content-between\">\r\n                            <button type=\"submit\" class=\"btn btn-success\"><i class=\"bi bi-envelope-arrow-up-fill\"></i> Send</button>\r\n                            <button type=\"submit\" class=\"btn btn-outline-primary\"><i class=\"bi bi-pencil-square\"></i> Draft</button>\r\n                            <button type=\"submit\" class=\"btn btn-danger\"><i class=\"bi bi-trash-fill\"></i> Discard</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                </form>\r\n            </div>\r\n      </div>\r\n<div class=\"col-md-3 py-4 contacts-pannel\">\r\n            <div class=\"contacts-pannel-header py-3\">\r\n                <h5 class=\"text-center fw-bold\">Organizers</h5>\r\n            </div>\r\n            <div class=\"panel panel-default bg-white px-3 py-4\">\r\n\t\t\t<div class=\"panel-body contacts\">\r\n                <ul>\r\n                ${organizers\r\n                  .map(\r\n                    (organizer) => `\r\n                    <li>\r\n                         <button class=\"text-start btn btn-contact\" data-email=\"${organizer.email}\">${organizer.name}</button>\r\n                    </li>\r\n                    `\r\n                  )\r\n                  .join(\"\")}\r\n                </ul>\t\t\t\r\n\t\t\t</div>\t\t\r\n\t\t</div>\t      \r\n  </div>\r\n`;\r\n\r\nexport default communicationsEmailingForm;\r\n","import AbstractView from \"./AbstractView.js\";\r\nimport eventDetailsCard from \"../templates/EventDetailsCard.js\";\r\nimport eventPhotoGallery from \"../templates/EventPhotoGallery.js\";\r\nimport { getData } from \"../utils/api-utility.js\";\r\n\r\nconst EVENTS_END_POINT = \"/api/events\";\r\nconst ORGANIZERS_END_POINT = \"/api/organizers\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Event Details\");\r\n    this.eventsList = [];\r\n    this.organizersList = [];\r\n    this.eventOrganizers = [];\r\n  }\r\n\r\n  async getHtml() {\r\n    this.eventsList = await this.fetchEvents();\r\n    this.organizersList = await this.fetchOrganizers();\r\n\r\n    // Get the `id` from the URL\r\n    this.urlParams = new URLSearchParams(window.location.search);\r\n    const id = this.urlParams.get(\"id\");\r\n\r\n    const currentEvent = this.eventsList.find((event) => event._id === id);\r\n    currentEvent.organizerId.forEach((o_id) => {\r\n      let currentOrganizer = this.organizersList.find(\r\n        (organizer) => organizer._id === o_id\r\n      );\r\n      this.eventOrganizers.push(currentOrganizer);\r\n    });\r\n    return `\r\n    <section>\r\n      <div class=\"container p-3 event-details\">\r\n        <div class=\"border-bottom border-secondary-subttle d-block pb-3\">\r\n          <h5 class=\"mb-3\">Event Details</h5>\r\n         <div class=\"d-flex justify-content-between\">\r\n            <a href=\"/events\" data-link class=\"btn btn-outline-primary\"\r\n              ><i class=\"bi bi-arrow-left-circle-fill\"></i> Back to Events Listing</a\r\n            >\r\n            <a href=\"/edit-event?id=${id}\" data-link class=\"btn btn-info\"\r\n              ><i class=\"bi bi-pencil-square\"></i> Edit Event</a\r\n            >\r\n         </div>\r\n        </div>\r\n        <div class=\"event-details-container py-3\"> \r\n        ${eventDetailsCard(currentEvent, this.eventOrganizers)}         \r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section>\r\n      <div class=\"container px-3 py-3 event-details\">       \r\n        ${eventPhotoGallery(currentEvent)}\r\n      </div>\r\n    </section>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * fetch the events from the server\r\n   * @returns events array\r\n   */\r\n  async fetchEvents() {\r\n    try {\r\n      const events = await getData(EVENTS_END_POINT);\r\n      //console.table(events);\r\n      return events;\r\n    } catch (error) {\r\n      console.error(\"Error fetching events:\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * fetch the organizers from the server\r\n   * @returns organizers array\r\n   */\r\n  async fetchOrganizers() {\r\n    try {\r\n      const organizers = await getData(ORGANIZERS_END_POINT);\r\n      //console.table(organizers);\r\n      return organizers;\r\n    } catch (error) {\r\n      console.error(\"Error fetching organizers:\", error);\r\n    }\r\n  }\r\n}\r\n","const eventDetailsCard = (event, organizers) => `\r\n<div class=\"row w-100 m-auto\">\r\n    <div class=\"col-lg-7 p-3 event-col-one\">\r\n        <div class=\"event-wrap p-3\">\r\n            <div class=\"event-header-wrap\">\r\n                <h2 class=\"py-3 fw-bold\">${event.name}</h2>\r\n            </div>\r\n            <div class=\"event-media\">\r\n                <img\r\n                class=\"image-fluid\"\r\n                src=\"${event.img_url}\"\r\n                alt=\"event-media\"\r\n                />\r\n                <div class=\"event-tags py-2\">\r\n                <a href=\"\" class=\"category-box\">${event.category}</a>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"event-content py-5\">\r\n                <h3\r\n                class=\"py-3 fw-bold border-bottom border-secondary-subttle\"\r\n                >\r\n                Description\r\n                </h3>\r\n                <p>${event.description}</p>\r\n                <h3\r\n                class=\"py-3 fw-bold border-bottom border-secondary-subttle\"\r\n                >\r\n                During this event the following will be covered:\r\n                </h3>\r\n                <ul>\r\n                ${event.topicsCovered\r\n                  .map(\r\n                    (topic) => `\r\n                <li>${topic}</li>\r\n                `\r\n                  )\r\n                  .join(\"\")}\r\n                </ul>\r\n                <h3 class=\"py-3 fw-bold\">Event Preview</h3>\r\n                <p>\r\n                <iframe\r\n                    width=\"100%\"\r\n                    height=\"450\"\r\n                    src=\"${event.preview}\"\r\n                    title=\"YouTube video player\"\r\n                    frameborder=\"0\"\r\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\r\n                    referrerpolicy=\"strict-origin-when-cross-origin\"\r\n                    allowfullscreen\r\n                ></iframe>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-lg-5 py-3 event-col-two\">\r\n        <div class=\"event-sidebar d-flex flex-column gap-3\">\r\n        <div class=\"event-sidebar-header bg-white p-4\">\r\n            <ul class=\"d-flex flex-column gap-1 ps-0\">\r\n            <li class=\"list-group-item\">\r\n                <i class=\"bi bi-geo-alt text-dark\"></i>${event.location}</li>\r\n                 <hr />\r\n            <li class=\"list-group-item\">\r\n                <strong>Date:</strong> January 3, 2025 - January 8, 2025\r\n            </li>\r\n            <hr />\r\n            <li class=\"list-group-item\">\r\n                <strong>Time:</strong> 12:00 pm - 8:00 pm (UTC)\r\n            </li>   \r\n            </ul>\r\n        </div>\r\n        <div class=\"goto-attendees-list p-4 bg-white\">\r\n            <a\r\n            class=\"btn btn-outline-primary m-auto w-75 d-flex align-items-center gap-3 justify-content-center\"\r\n            href=\"/event-attendees?id=${event._id}\" data-link\r\n            ><i class=\"bi bi-person-video2 fs-5\"></i>\r\n            Attendees List</a\r\n            >\r\n        </div>\r\n        <div class=\"add-calendar p-4 bg-white\">\r\n            <div class=\"add-calendar-title\">\r\n            <h4 class=\"pb-3 fw-bold\">Add Event To Calendar</h4>\r\n            </div>\r\n            <div class=\"calendar-links\">\r\n            <ul class=\"ps-0 d-flex flex-column gap-2\">\r\n                <li class=\"list-group-item\">\r\n                <a class=\"btn w-50 m-auto text-start\" href=\"\"\r\n                    ><svg\r\n                    fill=\"#ff5733\"\r\n                    width=\"35px\"\r\n                    height=\"35px\"\r\n                    viewBox=\"0 0 14 14\"\r\n                    role=\"img\"\r\n                    focusable=\"false\"\r\n                    aria-hidden=\"true\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                    <g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g>\r\n                    <g\r\n                        id=\"SVGRepo_tracerCarrier\"\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                    ></g>\r\n                    <g id=\"SVGRepo_iconCarrier\">\r\n                        <path\r\n                        d=\"m 13,4.69375 0,5.239 c 0,0.115 -0.04,0.212 -0.119,0.288 -0.079,0.077 -0.176,0.115 -0.29,0.115 l -4.2735,0 0,-3.4795 0.8,0.6145 c 0.051,0.0425 0.1145,0.063 0.1895,0.063 0.074,0 0.1385,-0.0205 0.1945,-0.0635 L 13,4.69375 Z m -4.6825,-1.0105 4.2735,0 c 0.1055,0 0.1965,0.0315 0.2715,0.096 0.075,0.064 0.117,0.15 0.124,0.255 l -3.6845,2.938 -0.9845,-0.7745 0,-2.5145 z m -0.6155,-2.251 0,11.1355 -6.702,-1.158 0,-8.7875 6.703,-1.19 -0.001,0 z m -2.0245,5.59 c -0.01,-0.5665 -0.1565,-1.036 -0.4395,-1.407 -0.2775,-0.37 -0.6375,-0.5655 -1.0655,-0.582 -0.412,0.0165 -0.7645,0.2115 -1.05,0.582 -0.285,0.371 -0.4275,0.841 -0.435,1.407 0.0075,0.5585 0.1575,1.0235 0.4425,1.3955 0.2855,0.37 0.637,0.5665 1.0505,0.588 0.4275,-0.0175 0.787,-0.212 1.0725,-0.585 0.285,-0.374 0.435,-0.84 0.4425,-1.3985 l -0.018,0 z m -1.56,-1.241 c 0.2155,0.01 0.397,0.128 0.5415,0.3585 0.1425,0.2305 0.2175,0.5225 0.2175,0.876 0,0.3605 -0.0745,0.6535 -0.2175,0.8855 -0.1505,0.232 -0.33,0.352 -0.548,0.352 -0.218,0 -0.3975,-0.113 -0.5475,-0.345 -0.15,-0.232 -0.2175,-0.525 -0.2175,-0.877 0,-0.3525 0.0675,-0.6455 0.2175,-0.87 0.142,-0.225 0.323,-0.345 0.5405,-0.3605 l 0.0135,-0.0195 z\"\r\n                        ></path>\r\n                    </g></svg\r\n                    >Outlook</a\r\n                >\r\n                </li>\r\n                <li class=\"list-group-item\">\r\n                <a class=\"btn w-50 m-auto text-start\" href=\"\"\r\n                    ><i class=\"bi bi-google\"></i> Google</a\r\n                >\r\n                </li>\r\n                <li class=\"list-group-item\">\r\n                <a class=\"btn w-50 m-auto text-start\" href=\"\"\r\n                    ><i class=\"bi bi-microsoft-teams\"></i> Teams</a\r\n                >\r\n                </li>\r\n                <li class=\"list-group-item\">\r\n                <a class=\"btn w-50 m-auto text-start\" href=\"\"\r\n                    ><i class=\"bi bi-apple\"></i> Apple</a\r\n                >\r\n                </li>\r\n            </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"event-organizers bg-white p-4\">\r\n            <h4 class=\"pb-3 fw-bold\">Organizers</h4>\r\n           <div class=\"organizers-container\">\r\n                ${organizers.map(\r\n                  (organizer) => `\r\n                    <div class=\"organizer-card px-4 border-bottom\">\r\n                    <div class=\"organizer-photo py-3\">\r\n                        <img\r\n                        class=\"w-25 image-fluid\"\r\n                        src=\"${organizer.avatarOrLogo}\"\r\n                        alt=\"organizer-photo\"\r\n                        />\r\n                    </div>\r\n                    <div class=\"organizer-details\">\r\n                        <p><strong>${organizer.name}</strong></p>\r\n                        <div>\r\n                        <p><strong>Email:</strong></p>\r\n                        <p>${organizer.email}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                    `\r\n                )}\r\n           </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n\r\n`;\r\n\r\nexport default eventDetailsCard;\r\n","const eventPhotoGallery = (event) => `\r\n<div class=\"p-3\">\r\n            <div class=\"bg-white px-3\">\r\n              <h3 class=\"py-3 border-bottom border-secondary-subttle\"><strong>${\r\n                event.name\r\n              } - Photo Gallery</strong></h3>\r\n              <div class=\"scroll-wrapper \">\r\n                <div class=\"event-photo-gallery row d-flex flex-nowrap py-4\">\r\n                  ${event.imageGallery\r\n                    .map(\r\n                      (image) => `\r\n                    <div class=\"col-lg-4 col-sm-6 col-md-4\">\r\n                        <div class=\"gallery-card\">\r\n                            <div class=\"img-container w-100\">\r\n                                <img class=\"img-fluid w-100\" src=\"${image}\" alt=\"event-gallery-image\"/>\r\n                            </div>  \r\n                        </div>              \r\n                    </div>  \r\n                    `\r\n                    )\r\n                    .join(\"\")}\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n`;\r\n\r\nexport default eventPhotoGallery;\r\n","import AbstractView from \"./AbstractView.js\";\r\nimport { getData } from \"../utils/api-utility.js\";\r\nimport attendeeCard from \"../templates/AttendeeCard.js\";\r\n\r\nconst ATTENDEES_END_POINT = \"/api/attendees\";\r\nconst EVENTS_END_POINT = \"/api/events\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Attendee Details\");\r\n    this.attendeesList = [];\r\n    this.eventsList = [];\r\n  }\r\n\r\n  async getHtml() {\r\n    this.eventsList = await this.fetchEvents();\r\n    this.attendeesList = await this.fetchAttendees();\r\n\r\n    // Get the `id` from the URL\r\n    this.urlParams = new URLSearchParams(window.location.search);\r\n    const id = this.urlParams.get(\"id\");\r\n\r\n    const currentAttendee = this.attendeesList.find(\r\n      (attendee) => attendee._id === id\r\n    );\r\n\r\n    const attendeEvents = [];\r\n    currentAttendee.events.forEach((event) => {\r\n      let element = this.eventsList.find((element) => element._id === event);\r\n      attendeEvents.push(element);\r\n    });\r\n\r\n    return `\r\n    <section>\r\n        <div class=\"container p-3  event-details\">    \r\n            <div class=\"border-bottom border-secondary-subttle d-block pb-3\">\r\n              <h5 class=\"mb-3\">Attendee Details</h5>\r\n              <button onclick=\"window.history.back()\" data-link class=\"btn btn-outline-primary\"\r\n                ><i class=\"bi bi-arrow-left-circle-fill\"></i> Back</\r\n              >\r\n            </div>\r\n            <div class=\"attendee-details-container py-3\">\r\n              ${attendeeCard(currentAttendee, attendeEvents)}\r\n                          \r\n            </div>\r\n        </div>\r\n    </section>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * fetch the attendees from the server\r\n   * @returns attendees array\r\n   */\r\n  async fetchAttendees() {\r\n    try {\r\n      const attendees = await getData(ATTENDEES_END_POINT);\r\n      //console.table(attendees);\r\n      return attendees;\r\n    } catch (error) {\r\n      console.error(\"Error fetching attendees:\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * fetch the events from the server\r\n   * @returns events array\r\n   */\r\n  async fetchEvents() {\r\n    try {\r\n      const events = await getData(EVENTS_END_POINT);\r\n      //console.table(events);\r\n      return events;\r\n    } catch (error) {\r\n      console.error(\"Error fetching events:\", error);\r\n    }\r\n  }\r\n}\r\n","const attendeeCard = (attendee, events) => `\r\n<div class=\"row w-100 m-auto\">\r\n    <div class=\"col-4 p-3 attendee-details-col-one\">\r\n        <div class=\"p-3 attendee-details-warap bg-white\">\r\n\r\n        <div class=\"py-3\">\r\n            <img src=\"${attendee.avatar}\" alt=\"attendee-photo\"></img>\r\n        </div>\r\n        <div>\r\n            <h5 class=\"text-center fw-bold\">${attendee.name}</h5>\r\n            <p class=\"text-center\">${attendee.city}</p>\r\n        </div>\r\n        <div class=\"text-center\">\r\n            <a href=\"communication\" data-link class=\"btn btn-primary btn-contact\">Contact</a>\r\n        </div>\r\n        \r\n        </div>\r\n    </div>\r\n    <div class=\"col-8 p-3\">\r\n        <div class=\"p-4 bg-white\">\r\n           <div>\r\n                <ul class=\"ps-0\">\r\n                    <li class=\"border-bottom list-group-item\">\r\n                        <div class=\"row w-100\"> \r\n                        <div class=\"col-4\">\r\n                            <p><strong>Name:</strong></p>\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <p>${attendee.name}</p >\r\n                        </div>\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"border-bottom list-group-item\">\r\n                        <div class=\"row w-100\"> \r\n                        <div class=\"col-4\">\r\n                            <p><strong>Email:</strong></p>\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <p>${attendee.email}</p >\r\n                        </div>\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"border-bottom list-group-item\">\r\n                        <div class=\"row w-100\"> \r\n                        <div class=\"col-4\">\r\n                            <p><strong>Phone:</strong></p>\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <p>${attendee.phone}</p >\r\n                        </div>\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"border-bottom list-group-item\">\r\n                        <div class=\"row w-100\"> \r\n                        <div class=\"col-4\">\r\n                            <p><strong>Address:</strong></p>\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <p>${attendee.address}, ${attendee.city}</p >\r\n                        </div>\r\n                        </div>\r\n                    </li>\r\n                </ul>         \r\n           </div>            \r\n        </div> \r\n        <div class=\"bg-white mt-4 pb-4\">\r\n            <div class=\"table-wrapper pt-4\">\r\n\r\n            <table id=\"attendees\" class=\"table table-striped table-sm\">\r\n                <thead>\r\n                <tr>                  \r\n                    <th class=\"ps-3\">EVENT</th>\r\n                    <th>DATE</th>\r\n                    <th>LOCATION</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                    ${events\r\n                      .map(\r\n                        (event) => `\r\n                    <tr>\r\n                        <td class=\"ps-3\">${event.name}</td>\r\n                        <td>Date</td>\r\n                        <td>${event.location}</td>\r\n                    </tr>                        \r\n                        `\r\n                      )\r\n                      .join(\"\")}\r\n                </tbody>\r\n            </table>\r\n\r\n            \r\n            </div>\r\n\r\n           </div>                       \r\n    </div>              \r\n    </div>\r\n`;\r\n\r\nexport default attendeeCard;\r\n","import AbstractView from \"./AbstractView.js\";\r\nimport { getData } from \"../utils/api-utility.js\";\r\n\r\nconst ATTENDEES_END_POINT = \"/api/attendees\";\r\nconst EVENTS_END_POINT = \"/api/events\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Event Attendees\");\r\n    this.attendeesList = [];\r\n    this.eventsList = [];\r\n  }\r\n\r\n  async getHtml() {\r\n    this.eventsList = await this.fetchEvents();\r\n    this.attendeesList = await this.fetchAttendees();\r\n\r\n    // Get the `id` from the URL\r\n    this.urlParams = new URLSearchParams(window.location.search);\r\n    const id = this.urlParams.get(\"id\");\r\n\r\n    const currentEvent = this.eventsList.find((event) => event._id === id);\r\n\r\n    const eventAttendeesList = this.attendeesList.filter((attendee) => {\r\n      return attendee.events.includes(currentEvent._id);\r\n    });\r\n\r\n    return `\r\n    <section class=\"py-3\">\r\n        <div class=\"container bg-white p-3\">\r\n            <div class=\"border-bottom border-secondary-subttle pb-3\">\r\n                <h5 class=\"mb-3\"><i class=\"bi bi-calendar2-event\"></i> ${\r\n                  currentEvent.name\r\n                } - Attendees</h5>\r\n                <button onclick=\"window.history.back()\" data-link class=\"btn btn-outline-primary btn-back\"\r\n            ><i class=\"bi bi-arrow-left-circle-fill\"></i> Back to Event Details</button\r\n          >\r\n            </div>\r\n             <div class=\"table-wrapper pb-4 px-4\">\r\n          <table id=\"attendees\" class=\"table table-striped table-sm\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>NAME</th>\r\n                <th>CITY</th>\r\n                <th>EMAIL</th>\r\n                <th>PHONE</th>\r\n                <th>ACTIONS</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n            ${eventAttendeesList\r\n              .map(\r\n                (attendee) => `\r\n              <tr>\r\n                <td>\r\n                  <img class=\"attendee-avatar\" src=\"${attendee.avatar}\" alt=\"attendee-photo\"/>\r\n                </td>\r\n                <td class=\"align-middle\">${attendee.name}</td>\r\n                <td class=\"align-middle\">${attendee.city}</td>\r\n                <td class=\"align-middle\">${attendee.email}</td>\r\n                <td class=\"align-middle\">${attendee.phone}</td>\r\n                <td class=\"px-0 align-middle\">\r\n                    <div>\r\n                      <a href=\"/attendee-details?id=${attendee._id}\"  data-link class=\"btn btn-primary\" >Details <i class=\"bi bi-arrow-right-circle-fill\"></i></a>\r\n                    </div>\r\n                </td>\r\n              </tr> \r\n              `\r\n              )\r\n              .join(\"\")}                \r\n            </tbody>\r\n          </table>\r\n     \r\n      </div>  \r\n        </div>     \r\n       \r\n    </section>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * fetch the attendees from the server\r\n   * @returns attendees array\r\n   */\r\n  async fetchAttendees() {\r\n    try {\r\n      const attendees = await getData(ATTENDEES_END_POINT);\r\n      //console.table(attendees);\r\n      return attendees;\r\n    } catch (error) {\r\n      console.error(\"Error fetching attendees:\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * fetch the events from the server\r\n   * @returns events array\r\n   */\r\n  async fetchEvents() {\r\n    try {\r\n      const events = await getData(EVENTS_END_POINT);\r\n      //console.table(events);\r\n      return events;\r\n    } catch (error) {\r\n      console.error(\"Error fetching events:\", error);\r\n    }\r\n  }\r\n\r\n  goBackToPreviousPage() {\r\n    window.history.back();\r\n  }\r\n}\r\n","import AbstractView from \"./AbstractView.js\";\r\nimport { getData, saveData } from \"../utils/api-utility.js\";\r\n\r\nconst EVENTS_END_POINT = \"/api/events\";\r\nconst ORGANIZERS_END_POINT = \"/api/organizers\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Create Event\");\r\n    let organizersList = [];\r\n  }\r\n\r\n  async getHtml() {\r\n    this.organizersList = await getData(ORGANIZERS_END_POINT);\r\n    return `\r\n     <section class=\"py-3\">\r\n      <div class=\"container bg-white p-3\">\r\n        <div class=\"border-bottom border-secondary-subttle pb-3\">\r\n          <h5 class=\"mb-3\">\r\n            <i class=\"bi bi-calendar-plus-fill\"></i> Create Events\r\n          </h5>\r\n          <button\r\n            onclick=\"window.history.back()\"\r\n            data-link\r\n            class=\"btn btn-outline-primary btn-back\"\r\n          >\r\n            <i class=\"bi bi-arrow-left-circle-fill\"></i> Back to Events\r\n          </button>\r\n          \r\n        </div>\r\n        <div>\r\n          <div>\r\n            <form class=\"event-form\">\r\n              <div>\r\n                <div class=\"row py-4 ps-0\">\r\n                  <label class=\"form-label col-3\" for=\"event-name\">\r\n                    Event Name:\r\n                  </label>\r\n                  <div class=\"col-9 p-0\">\r\n                    <input\r\n                      class=\"form-control w-75\"\r\n                      name=\"name\"\r\n                      id=\"event-name\"\r\n                      type=\"text\"\r\n                    ></input>\r\n                    <div\r\n                      id=\"invalid-event-name\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid Event Name</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <label class=\"form-label col-3\" for=\"event-description\">\r\n                    Description:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <textarea\r\n                      class=\"form-control w-75\"\r\n                      name=\"description\"\r\n                      id=\"event-description\"\r\n                      type=\"text\"\r\n                      rows=\"4\"\r\n                    ></textarea>\r\n                    <div\r\n                      id=\"invalid-event-description\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event description</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row py-4\">\r\n                  <label class=\"form-label col-3\" for=\"event-topics\">\r\n                    Topics to Cover:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <input\r\n                      class=\"form-control w-75\"\r\n                      name=\"topicsCovered\"\r\n                      id=\"event-topics\"\r\n                      type=\"text\"\r\n                      placeholder=\"e.g. ReactJS, Bootstrap, NodeJS\"\r\n                    ></input>\r\n                    <div\r\n                      id=\"invalid-event-topics\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event topics</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <label class=\"form-label col-3\" for=\"event-location\">\r\n                    Location:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <input\r\n                      class=\"form-control w-75\"\r\n                      name=\"location\"\r\n                      id=\"event-location\"\r\n                      type=\"text\"\r\n                    ></input>\r\n                    <div\r\n                      id=\"invalid-event-location\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event location</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row py-4\">\r\n                  <label class=\"form-label col-3\" for=\"event-delivery\">\r\n                    Delivery Mode:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <select\r\n                      class=\"form-select col-8 w-50 text-muted\"\r\n                      name=\"delivery\"\r\n                      id=\"event-delivery\"\r\n                      type=\"text\"\r\n                    >\r\n                      <option selected value=\"0\">\r\n                        Select a modality . . .\r\n                      </option>\r\n                      <option value=\"In-Person\">In-Person</option>\r\n                      <option value=\"Virtual\">Virtual</option>\r\n                      <option value=\"Hybrid\">Hybrid</option>\r\n                    </select>\r\n                    <div\r\n                      id=\"invalid-event-delivery\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event modality</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <label class=\"form-label col-3\" for=\"event-capacity\">\r\n                    Capacity:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <input\r\n                      class=\"form-control w-75\"\r\n                      name=\"maxCapacity\"\r\n                      id=\"event-capacity\"\r\n                      type=\"number\"\r\n                      value=\"0\"\r\n                    />\r\n                    <div\r\n                      id=\"invalid-event-capacity\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event capacity</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row py-4\">\r\n                  <label class=\"form-label col-3\" for=\"event-category\">\r\n                    Category:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <select\r\n                      class=\"form-select col-8 w-50 text-muted\"\r\n                      name=\"category\"\r\n                      id=\"event-category\"\r\n                    >\r\n                      <option selected value=\"0\">\r\n                        Select a category . . .\r\n                      </option>\r\n                      <option value=\"Social\">Social</option>\r\n                      <option value=\"Workshop\">Workshop</option>\r\n                      <option value=\"Seminar\">Seminar</option>\r\n                      <option value=\"Fair\">Fair</option>\r\n                      <option value=\"Festival\">Festival</option>\r\n                    </select>\r\n                    <div\r\n                      id=\"invalid-event-category\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event category</span>\r\n                    </div>\r\n                  </div>\r\n                </div>                \r\n                <div class=\"row pb-4\">\r\n                  <label class=\"form-label col-3\" for=\"event-organizer\">\r\n                    Organizer:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <select\r\n                      class=\"form-select col-8 w-50 text-muted\"\r\n                      name=\"organizerId\"\r\n                      id=\"event-organizer\"\r\n                    >\r\n                      <option value=\"0\" selected>\r\n                        Select organizer . . .\r\n                      </option>\r\n                      ${\r\n                        this.organizersList.length > 0\r\n                          ? this.organizersList\r\n                              .map(\r\n                                (organizer) =>\r\n                                  `<option value=\"${organizer._id}\">${organizer.name}</option>`\r\n                              )\r\n                              .join(\"\")\r\n                          : `<option value=\"none\" disabled>No organizers available</option>`\r\n                      }\r\n                    </select>\r\n                    <div\r\n                      id=\"invalid-event-organizer\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event organizer</span>\r\n                    </div>\r\n                  </div>\r\n                </div>               \r\n                <div class=\"w-50 m-auto py-3 text-center\">\r\n                  <button class=\"btn btn-success\">\r\n                    <i class=\"bi bi-floppy\"></i> Save Event\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section> \r\n    `;\r\n  }\r\n\r\n  manageState() {\r\n    this.initializeElements();\r\n    this.removeErrorMessagesOnInput();\r\n\r\n    const { eventForm } = this.domElements;\r\n\r\n    if (eventForm) {\r\n      eventForm.addEventListener(\"submit\", this.handleAddEventForm);\r\n    }\r\n\r\n    //remove all error messages from the elements on input\r\n  }\r\n\r\n  initializeElements() {\r\n    this.domElements = {\r\n      eventForm: document.querySelector(\".event-form\"),\r\n      invalidFeedbackMessages: document.querySelectorAll(\".invalid-feedback\"),\r\n      addEventFormInputs: document.querySelectorAll(\".event-form input\"),\r\n      eventFormSelect: document.querySelectorAll(\".event-form select\"),\r\n      eventDescription: document.getElementById(\"event-description\"),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * handle registration form submission\r\n   * @param {*} event\r\n   */\r\n  handleAddEventForm = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const formData = new FormData(event.target);\r\n\r\n    const eventData = Object.fromEntries(formData.entries());\r\n    console.log(\"event data\", eventData);\r\n\r\n    const isValidForm = this.validateCreateEventForm(eventData);\r\n\r\n    if (isValidForm) {\r\n      console.log(\"is the form valid?\", isValidForm);\r\n\r\n      try {\r\n        const isSuccess = await this.createNewEvent(\r\n          eventData.name,\r\n          eventData.description,\r\n          eventData.topicsCovered,\r\n          eventData.location,\r\n          eventData.delivery,\r\n          eventData.maxCapacity,\r\n          eventData.category,\r\n          eventData.organizerId\r\n        );\r\n\r\n        if (isSuccess) {\r\n          alert(\"Event added succesfully.\");\r\n          this.resetForms();\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error creating event:\", error);\r\n        alert(\"There was an error adding the event.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * validate the forms\r\n   */\r\n  validateCreateEventForm(data) {\r\n    let isValid = true;\r\n\r\n    isValid = this.validateField(data.name, \"invalid-event-name\") && isValid;\r\n    isValid =\r\n      this.validateField(data.description, \"invalid-event-description\") &&\r\n      isValid;\r\n    isValid =\r\n      this.validateField(data.topicsCovered, \"invalid-event-topics\") && isValid;\r\n    isValid =\r\n      this.validateField(data.location, \"invalid-event-location\") && isValid;\r\n    isValid =\r\n      this.validateField(data.delivery !== \"0\", \"invalid-event-delivery\") &&\r\n      isValid;\r\n    isValid =\r\n      this.validateField(data.maxCapacity, \"invalid-event-capacity\") && isValid;\r\n    isValid =\r\n      this.validateField(data.category !== \"0\", \"invalid-event-category\") &&\r\n      isValid;\r\n    isValid =\r\n      this.validateField(data.organizerId !== \"0\", \"invalid-event-organizer\") &&\r\n      isValid;\r\n\r\n    return Boolean(isValid);\r\n  }\r\n\r\n  /**\r\n   * validate individual fields\r\n   * @param {*} value\r\n   * @param {*} elementId\r\n   */\r\n  validateField(value, elementId) {\r\n    const messageElement = document.getElementById(elementId);\r\n\r\n    if (!value) {\r\n      messageElement.classList.add(\"d-block\");\r\n      return false;\r\n    } else {\r\n      messageElement.classList.remove(\"d-block\");\r\n      return true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create new Event\r\n   */\r\n  async createNewEvent(\r\n    name,\r\n    description,\r\n    topicsCovered,\r\n    location,\r\n    delivery,\r\n    maxCapacity,\r\n    category,\r\n    organizerId\r\n  ) {\r\n    let newEvent = {\r\n      name: name,\r\n      description: description,\r\n      topicsCovered: topicsCovered,\r\n      location: location,\r\n      delivery: delivery,\r\n      maxCapacity: maxCapacity,\r\n      category: category,\r\n      organizerId: organizerId,\r\n    };\r\n\r\n    try {\r\n      const response = await saveData(EVENTS_END_POINT, newEvent);\r\n      console.log(\"Event created successfully:\", response);\r\n    } catch (error) {\r\n      console.error(\"Error sending event:\", error);\r\n      throw error;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * reset the forms\r\n   */\r\n  resetForms() {\r\n    //clear inputs\r\n    document.querySelectorAll(\".form-control\").forEach((input) => {\r\n      input.value = \"\";\r\n    });\r\n\r\n    //reset dropdowns\r\n    document.querySelectorAll(\".form-select\").forEach((select) => {\r\n      select.selectedIndex = \"0\";\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Reset all fedback messages\r\n   */\r\n  resetFeedbaackMessages() {\r\n    this.domElements.invalidFeedbackMessages.forEach((message) => {\r\n      message.classList.remove(\"d-block\");\r\n    });\r\n  }\r\n\r\n  removeErrorMessagesOnInput() {\r\n    const { addEventFormInputs, eventDescription, eventFormSelect } =\r\n      this.domElements;\r\n    addEventFormInputs.forEach((input) => {\r\n      input.addEventListener(\"input\", (event) => {\r\n        const inputId = input.id;\r\n        const messageElement = document.getElementById(`invalid-${inputId}`);\r\n\r\n        if (input.value) {\r\n          messageElement.classList.remove(\"d-block\");\r\n        }\r\n      });\r\n    });\r\n\r\n    eventDescription.addEventListener(\"input\", () => {\r\n      const messageElement = document.getElementById(\r\n        `invalid-event-description`\r\n      );\r\n      if (eventDescription.value) {\r\n        messageElement.classList.remove(\"d-block\");\r\n      }\r\n    });\r\n\r\n    eventFormSelect.forEach((item) => {\r\n      item.addEventListener(\"change\", () => {\r\n        const itemId = item.id;\r\n        const messageElement = document.getElementById(`invalid-${itemId}`);\r\n\r\n        if (itemId.value !== \"0\") {\r\n          messageElement.classList.remove(\"d-block\");\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","import AbstractView from \"./AbstractView.js\";\r\nimport { getData, updateData } from \"../utils/api-utility.js\";\r\n\r\nconst EVENTS_END_POINT = \"/api/events\";\r\nconst ORGANIZERS_END_POINT = \"/api/organizers\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Create Event\");\r\n    this.organizersList = [];\r\n    this.eventOrganizers = [];\r\n    this.currentEvent = \"\";\r\n  }\r\n\r\n  async getHtml() {\r\n    this.eventsList = await getData(EVENTS_END_POINT);\r\n    this.organizersList = await getData(ORGANIZERS_END_POINT);\r\n\r\n    // Get the `id` from the URL\r\n    this.urlParams = new URLSearchParams(window.location.search);\r\n    const id = this.urlParams.get(\"id\");\r\n\r\n    this.currentEvent = this.eventsList.find((event) => event._id === id);\r\n    this.currentEvent.organizerId.forEach((o_id) => {\r\n      let currentOrganizer = this.organizersList.find(\r\n        (organizer) => organizer._id === o_id\r\n      );\r\n      this.eventOrganizers.push(currentOrganizer);\r\n    });\r\n\r\n    return `\r\n     <section class=\"py-3\">\r\n      <div class=\"container bg-white p-3\">\r\n        <div class=\"border-bottom border-secondary-subttle pb-3\">\r\n          <h5 class=\"mb-3\">\r\n            <i class=\"bi bi-pencil-square\"></i> Edit Event\r\n          </h5>\r\n          <button\r\n            onclick=\"window.history.back()\"\r\n            data-link\r\n            class=\"btn btn-outline-primary btn-back\"\r\n          >\r\n            <i class=\"bi bi-x-circle-fill\"></i> Cancel\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <form class=\"event-form\">\r\n              <div>\r\n                <div class=\"row py-4 ps-0\">\r\n                  <label class=\"form-label col-3\" for=\"event-name\">\r\n                    Event Name:\r\n                  </label>\r\n                  <div class=\"col-9 p-0\">\r\n                    <input\r\n                      readonly \r\n                      class=\"form-control w-75 bg-secondary-subtle\"\r\n                      name=\"name\"\r\n                      id=\"event-name\"\r\n                      type=\"text\"\r\n                      value=\"${this.currentEvent.name}\"\r\n                    >\r\n                    <div\r\n                      id=\"invalid-event-name\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid Event Name</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <label class=\"form-label col-3\" for=\"event-description\">\r\n                    Description:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <textarea\r\n                      class=\"form-control w-75\"\r\n                      name=\"description\"\r\n                      id=\"event-description\"\r\n                      type=\"text\"\r\n                      rows=\"4\"\r\n                    >${this.currentEvent.description}</textarea>\r\n                    <div\r\n                      id=\"invalid-event-description\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event description</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row py-4\">\r\n                  <label class=\"form-label col-3\" for=\"event-topics\">\r\n                    Topics to Cover:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <input\r\n                    value=\"${this.currentEvent.topicsCovered}\"\r\n                      class=\"form-control w-75\"\r\n                      name=\"topicsCovered\"\r\n                      id=\"event-topics\"\r\n                      type=\"text\"\r\n                      placeholder=\"e.g. ReactJS, Bootstrap, NodeJS\"\r\n                    >\r\n                    <div\r\n                      id=\"invalid-event-topics\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event topics</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <label class=\"form-label col-3\" for=\"event-location\">\r\n                    Location:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <input\r\n                      value=\"${this.currentEvent.location}\"\r\n                      class=\"form-control w-75\"\r\n                      name=\"location\"\r\n                      id=\"event-location\"\r\n                      type=\"text\"\r\n                    >\r\n                    <div\r\n                      id=\"invalid-event-location\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event location</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row py-4\">\r\n                  <label class=\"form-label col-3\" for=\"event-delivery\">\r\n                    Delivery Mode:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <select\r\n                      class=\"form-select col-8 w-50 text-muted\"\r\n                      name=\"delivery\"\r\n                      id=\"event-delivery\"\r\n                      type=\"text\"\r\n                    >\r\n                      <option selected value=\"0\">\r\n                        Select a modality . . .\r\n                      </option>\r\n                      <option value=\"In-Person\">In-Person</option>\r\n                      <option value=\"Virtual\">Virtual</option>\r\n                      <option value=\"Hybrid\">Hybrid</option>\r\n                    </select>\r\n                    <div\r\n                      id=\"invalid-event-delivery\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event modality</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <label class=\"form-label col-3\" for=\"event-capacity\">\r\n                    Capacity:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <input\r\n                      value=\"${this.currentEvent.maxCapacity}\"\r\n                      class=\"form-control w-75\"\r\n                      name=\"maxCapacity\"\r\n                      id=\"event-capacity\"\r\n                      type=\"number\"\r\n                      value=\"0\"\r\n                    />\r\n                    <div\r\n                      id=\"invalid-event-capacity\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event capacity</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row py-4\">\r\n                  <label class=\"form-label col-3\" for=\"event-category\">\r\n                    Category:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <select\r\n                      class=\"form-select col-8 w-50 text-muted\"\r\n                      name=\"category\"\r\n                      id=\"event-category\"\r\n                    >\r\n                      <option selected value=\"0\">\r\n                        Select a category . . .\r\n                      </option>\r\n                      <option value=\"Social\">Social</option>\r\n                      <option value=\"Workshop\">Workshop</option>\r\n                      <option value=\"Seminar\">Seminar</option>\r\n                      <option value=\"Fair\">Fair</option>\r\n                      <option value=\"Festival\">Festival</option>\r\n                    </select>\r\n                    <div\r\n                      id=\"invalid-event-category\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event category</span>\r\n                    </div>\r\n                  </div>\r\n                </div> \r\n                 <div class=\"row pb-4\">\r\n                  <label class=\"form-label col-3\" for=\"current-event-location\"\">\r\n                    Current Organizer(s):\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                  ${\r\n                    this.eventOrganizers.length > 0\r\n                      ? this.eventOrganizers\r\n                          .map(\r\n                            (organizer) =>\r\n                              `\r\n                     <input\r\n                      readonly \r\n                      value=\"${organizer.name}\"\r\n                      class=\"form-control w-75 mb-3 bg-secondary-subtle\"\r\n                      name=\"currentOrganizer\"\r\n                      id=\"current-event-location\"\r\n                      type=\"text\"\r\n                    > `\r\n                          )\r\n                          .join(\"\")\r\n                      : `<input value=\"No organizers available\" readonly  class=\"form-control w-75\">`\r\n                  }\r\n                                   \r\n                  </div>\r\n                </div>               \r\n                <div class=\"row pb-4\">\r\n                  <label class=\"form-label col-3\" for=\"event-organizer\">\r\n                    Add Organizer:\r\n                  </label>\r\n                  <div class=\"col-9 ps-0\">\r\n                    <select\r\n                      class=\"form-select col-8 w-50 text-muted\"\r\n                      name=\"organizerId\"\r\n                      id=\"event-organizer\"\r\n                    >\r\n                      <option value=\"0\" selected>\r\n                        Select organizer . . .\r\n                      </option>\r\n                      ${\r\n                        this.organizersList.length > 0\r\n                          ? this.organizersList\r\n                              .map(\r\n                                (organizer) =>\r\n                                  `<option value=\"${organizer._id}\">${organizer.name}</option>`\r\n                              )\r\n                              .join(\"\")\r\n                          : `<option value=\"none\" readonly >No organizers available</option>`\r\n                      }\r\n                    </select>\r\n                    <div\r\n                      id=\"invalid-event-organizer\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid event organizer</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row w-75 m-auto py-3\">\r\n                  <div class=\"col-3\">\r\n                    <button class=\"btn btn-outline-info btn-upload\" type=\"button\">\r\n                      Upload Image\r\n                    </button>\r\n                  </div>\r\n                  <div class=\"col-9 p-0\">\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"file\"\r\n                      name=\"eventImage\"\r\n                      accept=\"image/*\"\r\n                      class=\"text-muted form-control file-input\"\r\n                    >\r\n                     <div\r\n                      id=\"invalid-file\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span id=\"message\">Invalid file</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"w-50 m-auto py-3 text-center\">\r\n                  <button class=\"btn btn-success\">\r\n                    <i class=\"bi bi-floppy\"></i> Save Changes\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section> \r\n    `;\r\n  }\r\n\r\n  manageState() {\r\n    this.initializeElements();\r\n    this.removeErrorMessagesOnInput();\r\n\r\n    const { eventForm } = this.domElements;\r\n\r\n    if (eventForm) {\r\n      eventForm.addEventListener(\"submit\", this.handleAddEventForm);\r\n    }\r\n\r\n    this.setSelectElementsInitialValue(this.currentEvent);\r\n\r\n    this.uploadPictures();\r\n  }\r\n\r\n  initializeElements() {\r\n    this.domElements = {\r\n      eventForm: document.querySelector(\".event-form\"),\r\n      invalidFeedbackMessages: document.querySelectorAll(\".invalid-feedback\"),\r\n      addEventFormInputs: document.querySelectorAll(\".event-form input\"),\r\n      eventFormSelect: document.querySelectorAll(\".event-form select\"),\r\n      eventDescription: document.getElementById(\"event-description\"),\r\n      selectEventCategory: document.getElementById(\"event-category\"),\r\n      selectEventDelivery: document.getElementById(\"event-delivery\"),\r\n      uploadButton: document.querySelector(\".btn-upload\"),\r\n      fileInput: document.querySelector(\".file-input\"),\r\n    };\r\n  }\r\n\r\n  setSelectElementsInitialValue(event) {\r\n    const { selectEventCategory, selectEventDelivery } = this.domElements;\r\n    selectEventDelivery.value = event.delivery;\r\n    selectEventCategory.value = event.category;\r\n  }\r\n\r\n  /**\r\n   * handle registration form submission\r\n   * @param {*} event\r\n   */\r\n  handleAddEventForm = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // Get the `id` from the URL\r\n    this.urlParams = new URLSearchParams(window.location.search);\r\n    const id = this.urlParams.get(\"id\");\r\n\r\n    const formData = new FormData(event.target);\r\n\r\n    const eventData = Object.fromEntries(formData.entries());\r\n    console.log(id);\r\n\r\n    const isValidForm = this.validateCreateEventForm(eventData);\r\n\r\n    if (isValidForm) {\r\n      console.log(\"is the form valid?\", isValidForm);\r\n\r\n      try {\r\n        const isSuccess = await this.updateCurrentEvent(\r\n          id,\r\n          eventData.name,\r\n          eventData.description,\r\n          eventData.topicsCovered,\r\n          eventData.location,\r\n          eventData.delivery,\r\n          eventData.maxCapacity,\r\n          eventData.category,\r\n          eventData.organizerId\r\n        );\r\n\r\n        if (isSuccess) {\r\n          alert(\"Event updated succesfully.\");\r\n          this.resetForms();\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error updating event:\", error);\r\n        alert(\"There was an error updating the event.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * validate the forms\r\n   */\r\n  validateCreateEventForm(data) {\r\n    let isValid = true;\r\n\r\n    isValid = this.validateField(data.name, \"invalid-event-name\") && isValid;\r\n    isValid =\r\n      this.validateField(data.description, \"invalid-event-description\") &&\r\n      isValid;\r\n    isValid =\r\n      this.validateField(data.topicsCovered, \"invalid-event-topics\") && isValid;\r\n    isValid =\r\n      this.validateField(data.location, \"invalid-event-location\") && isValid;\r\n    isValid =\r\n      this.validateField(data.delivery !== \"0\", \"invalid-event-delivery\") &&\r\n      isValid;\r\n    isValid =\r\n      this.validateField(data.maxCapacity, \"invalid-event-capacity\") && isValid;\r\n    isValid =\r\n      this.validateField(data.category !== \"0\", \"invalid-event-category\") &&\r\n      isValid;\r\n    isValid =\r\n      this.validateField(data.organizerId !== \"0\", \"invalid-event-organizer\") &&\r\n      isValid;\r\n\r\n    return Boolean(isValid);\r\n  }\r\n\r\n  /**\r\n   * validate individual fields\r\n   * @param {*} value\r\n   * @param {*} elementId\r\n   */\r\n  validateField(value, elementId) {\r\n    const messageElement = document.getElementById(elementId);\r\n\r\n    if (!value) {\r\n      messageElement.classList.add(\"d-block\");\r\n      return false;\r\n    } else {\r\n      messageElement.classList.remove(\"d-block\");\r\n      return true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create new Event\r\n   */\r\n  async updateCurrentEvent(\r\n    _id,\r\n    name,\r\n    description,\r\n    topicsCovered,\r\n    location,\r\n    delivery,\r\n    maxCapacity,\r\n    category,\r\n    organizerId\r\n  ) {\r\n    let eventToUpdate = {\r\n      name: name,\r\n      description: description,\r\n      topicsCovered: topicsCovered,\r\n      location: location,\r\n      delivery: delivery,\r\n      maxCapacity: maxCapacity,\r\n      category: category,\r\n      organizerId: organizerId,\r\n    };\r\n\r\n    try {\r\n      const response = await updateData(EVENTS_END_POINT, _id, eventToUpdate);\r\n    } catch (error) {\r\n      console.error(\"Error updating event:\", error);\r\n      throw error;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * reset the forms\r\n   */\r\n  resetForms() {\r\n    //clear inputs\r\n    document.querySelectorAll(\".form-control\").forEach((input) => {\r\n      input.value = \"\";\r\n    });\r\n\r\n    //reset dropdowns\r\n    document.querySelectorAll(\".form-select\").forEach((select) => {\r\n      select.selectedIndex = \"0\";\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Reset all fedback messages\r\n   */\r\n  resetFeedbaackMessages() {\r\n    this.domElements.invalidFeedbackMessages.forEach((message) => {\r\n      message.classList.remove(\"d-block\");\r\n    });\r\n  }\r\n\r\n  removeErrorMessagesOnInput() {\r\n    const { addEventFormInputs, eventDescription, eventFormSelect } =\r\n      this.domElements;\r\n    addEventFormInputs.forEach((input) => {\r\n      input.addEventListener(\"input\", (event) => {\r\n        const inputId = input.id;\r\n        const messageElement = document.getElementById(`invalid-${inputId}`);\r\n\r\n        if (input.value) {\r\n          messageElement.classList.remove(\"d-block\");\r\n        }\r\n      });\r\n    });\r\n\r\n    eventDescription.addEventListener(\"input\", () => {\r\n      const messageElement = document.getElementById(\r\n        `invalid-event-description`\r\n      );\r\n      if (eventDescription.value) {\r\n        messageElement.classList.remove(\"d-block\");\r\n      }\r\n    });\r\n\r\n    eventFormSelect.forEach((item) => {\r\n      item.addEventListener(\"change\", () => {\r\n        const itemId = item.id;\r\n        const messageElement = document.getElementById(`invalid-${itemId}`);\r\n\r\n        if (itemId.value !== \"0\") {\r\n          messageElement.classList.remove(\"d-block\");\r\n        }\r\n      });\r\n    });\r\n  }\r\n  uploadPictures() {\r\n    const { uploadButton, fileInput } = this.domElements;\r\n\r\n    if (!uploadButton || !fileInput) {\r\n      console.error(\"DOM elements not found!\");\r\n      return;\r\n    }\r\n\r\n    uploadButton.addEventListener(\"click\", async (event) => {\r\n      event.preventDefault();\r\n      const file = fileInput.files[0];\r\n\r\n      if (!file) {\r\n        alert(\"Please select a file to upload\");\r\n        console.error(\"No file selected\");\r\n        return;\r\n      }\r\n\r\n      console.log(\"Selected file:\", file);\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"eventImage\", file);\r\n\r\n      try {\r\n        const response = await fetch(\"/api/upload\", {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n\r\n        console.log(\"Response:\", response);\r\n\r\n        if (response.ok) {\r\n          const result = await response.json();\r\n          alert(`Image uploaded successfully! File URL: ${result.filePath}`);\r\n          console.log(`Uploaded File URL: ${result.filePath}`);\r\n        } else {\r\n          const error = await response.json();\r\n          alert(`Upload failed: ${error.message}`);\r\n          console.error(\"Error response:\", error);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error during file upload:\", error);\r\n        alert(\"An error occurred while uploading the file.\");\r\n      }\r\n    });\r\n  }\r\n}\r\n"],"names":["$c4b00e42b75f1dbd$export$2e2bcd8739ae039","constructor","params","setTitle","title","document","getHtml","$383917d63580280f$export$2e2bcd8739ae039","$79ba522ead9215b1$export$2e2bcd8739ae039","$55510dd80b4e0306$var$BASE_URL","$55510dd80b4e0306$export$7a171f172be0782e","endpoint","response","fetch","ok","Error","json","error","$55510dd80b4e0306$export$15d8621db9a88346","object","method","headers","body","JSON","stringify","$55510dd80b4e0306$export$3bf0495508a61ee","id","updatedData","statusText","console","$d98de29a0b3d3138$export$2e2bcd8739ae039","event","date","intro","description","length","slice","img_url","name","category","_id","$53cdfa4a82d12117$export$2e2bcd8739ae039","eventsList","scheduleList","fetchEvents","fetchSchedule","rows","map","matchingEvent","find","match","eventId","Date","startDate","toLocaleDateString","year","month","day","$0c43d840e344d764$export$2e2bcd8739ae039","schedule","formattedDate","timeZone","$86fb3414cf3865fc$var$SCHEDULE_END_POINT","$86fb3414cf3865fc$export$2e2bcd8739ae039","daysOfWeek","currentDate","now","getMonth","getFullYear","dayOfTheWeek","weekday","dayOfTheMonth","getDate","calendarWeeks","createCalendar","manageState","today","eventDate","join","week","getOrdinalSuffix","initializeCalendar","eventSelect","getElementById","addEventListener","populateEventDetails","createTimePicker","markSchedule","app","settings","container","querySelector","calendar","days","querySelectorAll","form","select","dismiss","save","address","time","observations","init","bindUIActions","swap","currentSide","desiredSide","classList","toggle","selectedIndex","textContent","style","display","forEach","selectedDate","currentTarget","getAttribute","dateElement","focus","feedbackElement","feedbackContainer","value","preventDefault","validateFields","scheduleEvent","newSchedule","startTime","saveScheduleData","alert","setHours","log","currentYear","currentMonth","totalDaysInMonth","calendarArray","firstDayOfMonth","getDay","weekArray","Array","fill","currentDayOfWeek","push","selectedValue","selectElement","selectedEvent","addressElement","eventLocation","location","timeSelector","clockIcon","flatpickr","enableTime","noCalendar","dateFormat","renderUpcomingEvents","scheduleList1","item","eventElements","datesToCompare","isNaN","getTime","warn","some","$6113fb0a69bd9255$export$2e2bcd8739ae039","attendeesList","fetchAttendees","attendee","avatar","city","email","phone","$630023b50c919aed$export$2e2bcd8739ae039","attendees","organizers","organizer","$dfbd417bc094b569$export$2e2bcd8739ae039","organizersList","fetchOrganizers","renderHTML","formHTML","appContainer","innerHTML","handleContactButtons","handleEmailForm","contactButtons","button","insertEmail","mainEmailInput","emailData","to","cc","bcc","subject","message","resetForms","input","$8fb5c7f80f48060f$export$2e2bcd8739ae039","topicsCovered","topic","preview","avatarOrLogo","$ce7e1e918bd6351e$export$2e2bcd8739ae039","imageGallery","image","$3e4bcfd1918def4c$export$2e2bcd8739ae039","eventOrganizers","urlParams","URLSearchParams","window","search","get","currentEvent","organizerId","o_id","currentOrganizer","$c9e4a8adc52782ff$export$2e2bcd8739ae039","events","$8084b848fef8a039$export$2e2bcd8739ae039","currentAttendee","attendeEvents","element","$aefb02f15e1bb123$export$2e2bcd8739ae039","eventAttendeesList","filter","includes","goBackToPreviousPage","history","back","$3b13b790ce4e5db0$export$2e2bcd8739ae039","initializeElements","removeErrorMessagesOnInput","eventForm","domElements","handleAddEventForm","invalidFeedbackMessages","addEventFormInputs","eventFormSelect","eventDescription","eventData","Object","fromEntries","formData","FormData","target","entries","isValidForm","validateCreateEventForm","createNewEvent","delivery","maxCapacity","data","isValid","validateField","Boolean","elementId","messageElement","remove","add","resetFeedbaackMessages","inputId","itemId","$bb5c90b6d3cd8b06$var$EVENTS_END_POINT","$bb5c90b6d3cd8b06$export$2e2bcd8739ae039","setSelectElementsInitialValue","uploadPictures","selectEventCategory","selectEventDelivery","uploadButton","fileInput","updateCurrentEvent","file","files","append","result","filePath","$4a1fb3697f2d86ed$var$pathToRegex","path","RegExp","replace","$4a1fb3697f2d86ed$var$getParams","values","keys","from","route","matchAll","key","i","$4a1fb3697f2d86ed$var$navigateTo","url","pushState","$4a1fb3697f2d86ed$var$router","routes","view","potentialMatches","pathname","potentialMatch","matches","href","link","nav"],"version":3,"file":"index.46a05e0a.js.map"}